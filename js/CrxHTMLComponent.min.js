(function(){var l=1;var b=2;var H=3;var u=4;var e=5;var k=6;var g=7;var E=8;var p=9;var v=10;var r=11;var z=12;var y={};var s=0;var G=[];var A={"<ROOT>":true,"crxcomponent":true,"crxparameter":true,"crxreferto":true,"aritcle":true,"aside":true,"div":true,"footer":true,"form":true,"header":true,"ul":true,"ol":true,"li":true,"main":true,"nav":true,"noscript":true,"output":true,"section":true};var q=false;if(Object.defineProperty){var j={};try{Object.defineProperty(j,"s",{value:"d",writable:false});q=true;}catch(a){}}if(!window.console){window.console={};window.console.log=function(){};}function n(I){return I&&I.toString&&(Object.prototype.toString.call(I)==="[object Array]");}function o(I){return(Object.prototype.toString.call(I)==="[object String]");}function t(M,J){var L={};for(var I=0;I<M.attributes.length;I++){switch(M.attributes[I].nodeType){case b:var N=M.attributes[I].nodeName.toLowerCase();L[N]="";if(M.attributes[I].childNodes&&(M.attributes[I].childNodes.length>0)){for(var K=0;K<M.attributes[I].childNodes.length;K++){switch(M.attributes[I].childNodes[K].nodeType){case H:L[N]+=M.attributes[I].childNodes[K].nodeValue;break;default:break;}}}else{if(M.attributes[I].nodeValue){L[N]=M.attributes[I].nodeValue;}else{if(J){L[N]=N;}}}break;}}return L;}function F(K){var J={};for(var I in K){if(!K.hasOwnProperty(I)){continue;}J[I]=K[I];}return J;}function m(L,K,J){for(var I in K){if(!K.hasOwnProperty(I)||(!J&&L.hasOwnProperty(I))){continue;}L[I]=K[I];}}function D(I){if(y.hasOwnProperty(I)){return y[I];}return null;}function C(M,I){var L=t(I[0]);var K="<"+I.prop("tagName")+" ";for(var J in L){if(!L.hasOwnProperty(J)){continue;}K+=J+'="'+M.cageHtmlAttribute(L[J])+'" ';}K+=">"+I.html()+"</"+I.prop("tagName")+">";return K;}function B(I){G.push(I);if(G.length===1){setTimeout(h,0);}}function h(){if(G.length>0){if(h.getTime){var J=h.getTime();var I=-1;var M=1;var K=0;while(((I-J)<10)&&G.length){K=Math.min(M,G.length);for(var L=0;L<K;L++){G.shift()();}I=h.getTime();M=M*2;}setTimeout(h,0);}else{var K=Math.min(10,G.length);for(var L=0;L<K;L++){G.shift()();}setTimeout(h,0);}}}h.getTime=(window.performance?function(){return window.performance.now();}:(Date.now?function(){return Date.now();}:null));function d(){var J=3;var I={"numericLength":0};this.p={};this.lastAddedKey=null;this.add=function(L,K){if(arguments.length===2){x.call(this,I,L,K);}else{if(arguments.length===1){x.call(this,I,L);}}};}var x=function(K,J,I){if(arguments.length===3){this.p[J]=I;this.lastAddedKey=J;}else{if(arguments.length===2){while(this.p[""+K.numericLength]){K.numericLength++;}this.p[K.numericLength]=J;this.lastAddedKey=K.numericLength;K.numericLength++;}}};function w(){return new d();}crx_registerClass("crxcmp.HTMLComponent",{PRIVATE:{VARS:{gCrxSecurityWithComponent:null}},PROTECTED:{VIRTUAL:{FINAL:{FUNCTIONS:{getSecurity:function(){return this.gCrxSecurityWithComponent;}}}}},PUBLIC:{CONSTRUCT:function(I){this.gCrxSecurityWithComponent=I;if(q){Object.defineProperty(this.THIS,"TYPE_NORMAL",{value:1,writable:false});Object.defineProperty(this.THIS,"TYPE_BLOCK",{value:3,writable:false});Object.defineProperty(this.THIS,"TYPE_NONBLOCK",{value:4,writable:false});}else{this.THIS["TYPE_NORMAL"]=1;this.THIS["TYPE_BLOCK"]=3;this.THIS["TYPE_NONBLOCK"]=4;}},VIRTUAL:{FUNCTIONS:{getTagName:0,getOutput:function(I,J){return"";},isToEnclose:function(){return false;},onStart:function(K,J,I){},onEnd:function(){},mustNonAttributeParametersBePassedFirst:function(J,I){return false;},doFilterHTMLElement:function(K,J,I,L){return true;},doFilterHTMLAttributeAndValue:function(I,J){return true;},isInsertionValid:function(I){return true;}},FINAL:{FUNCTIONS:{isComponent:function(L,I){if(I instanceof Object){if(L.nodeName==="crxcomponent"){var J=L.getAttribute("name");for(var K=0;K<I.length;K++){if(J===I[K]){return true;}}}else{for(var K=0;K<I.length;K++){if(L.nodeName===("cre"+I[K])){return true;}}}}else{return((L.nodeName==="cre"+I)||((L.nodeName==="crxcomponent")&&(L.getAttribute("name")===I)));}return false;}}}}}});crx_registerClass("crxcmp.Security",{EXTENDS:"crx.Security",PRIVATE:{VARS:{gComponents:null,gProcessInfoStack:null,gProcessInfo:null,gIsExtendedHTMLCall:false,gBlockElements:null,gBlockElementsNotParentsToComponents:null,gElementsStack:null,gIsDefaultComponentAvailable:false,gIsBlockComponentMode:false,gIsNonBlockComponentAvailable:false,gIsToCollapseNonBlocks:false,gExtraSecurityProtocol:null},FUNCTIONS:{getAttributes:function(J,I){return t(J,I);},getAttributesForFiltering:function(I,N,K){var M={};for(var J=0;J<N.attributes.length;J++){switch(N.attributes[J].nodeType){case b:if(N.attributes[J].childNodes&&(N.attributes[J].childNodes.length>0)){var O="";if(N.attributes[J].childNodes.length){for(var L=0;L<N.attributes[J].childNodes.length;L++){switch(N.attributes[J].childNodes[L].nodeType){case H:O+=N.attributes[J].childNodes[L].nodeValue;break;default:break;}}}M[N.attributes[J].nodeName]={"nameOfElement":I,"name":N.attributes[J].nodeName,"value":O};}else{if((N.attributes[J].nodeValue!==undefined)&&(N.attributes[J].nodeValue!==null)){M[N.attributes[J].nodeName]={"nameOfElement":I,"name":N.attributes[J].nodeName,"value":N.attributes[J].nodeValue};}else{if(K){M[N.attributes[J].nodeName]={"nameOfElement":I,"name":N.attributes[J].nodeName,"value":N.attributes[J].nodeName};}}}break;}}return M;},filterHTMLElement__incrementElementStack:function(J,I){if(J&&this.gIsBlockComponentMode){tIsBlock=(this.gBlockElements[I]===true);tLastElementStackEntry=((this.gElementsStack.length>0)?this.gElementsStack[this.gElementsStack.length-1][1]:true);this.gElementsStack.push([I,(tLastElementStackEntry&&tIsBlock)]);}},filterHTMLElement__processComponent:function(P,I,K,R,Q){Q=((Q===undefined)?this.COMPONENT_TYPE_NORMAL:Q);var J={};var O=false;var L="";var M=this.gProcessInfo["inParameterButNotInComponent"];if((this.gProcessInfo["stackIndex"]>-1)&&!this.gProcessInfo["callStack"][this.gProcessInfo["stackIndex"]]["wasOnStartCalled"]){this.filterHTMLElement__callOnStart(this.gProcessInfo["stackIndex"]);this.gProcessInfo["callStack"][this.gProcessInfo["stackIndex"]]["areParametersNoLongerAllowed"]=true;}this.gProcessInfo["stackIndex"]=this.gProcessInfo["stackIndex"]+1;J["parent"]=this.gProcessInfo["callStack"];this.gProcessInfo["callStack"][this.gProcessInfo["stackIndex"]]=J;this.gProcessInfo["callStack"][this.gProcessInfo["stackIndex"]]["parameters"]=w();this.gProcessInfo["callStack"][this.gProcessInfo["stackIndex"]]["name"]=((Q===this.COMPONENT_TYPE_DEFAULT)?"<DEFAULT>":((Q===this.COMPONENT_TYPE_BLOCK)?"<BLOCK>":((Q===this.COMPONENT_TYPE_NONBLOCK)?"<NONBLOCK>":K)));this.gProcessInfo["callStack"][this.gProcessInfo["stackIndex"]]["actualName"]=K;this.gProcessInfo["callStack"][this.gProcessInfo["stackIndex"]]["type"]=Q;this.gProcessInfo["callStack"][this.gProcessInfo["stackIndex"]]["externalType"]=((Q===this.COMPONENT_TYPE_DEFAULT)?this.COMPONENT_TYPE_NORMAL:Q);this.gProcessInfo["callStack"][this.gProcessInfo["stackIndex"]]["indexOfNamelessParameters"]=-1;this.gProcessInfo["callStack"][this.gProcessInfo["stackIndex"]]["keysOfLastAddedParameter"]=[];this.gProcessInfo["callStack"][this.gProcessInfo["stackIndex"]]["nonAttributeTopParameters"]={};this.gProcessInfo["callStack"][this.gProcessInfo["stackIndex"]]["wasOnStartCalled"]=false;this.gProcessInfo["callStack"][this.gProcessInfo["stackIndex"]]["areParametersNoLongerAllowed"]=false;if(R["crxreference"]&&!this.isStringEmpty(R["crxreference"]["value"])){if(!this.gProcessInfo["refrences"].hasOwnProperty(R["crxreference"]["value"])){O=true;L=R["crxreference"]["value"];}delete R["crxreference"];}delete R["crxtype"];for(var N in R){if(!R.hasOwnProperty(N)){continue;}if(this.gComponents[this.gProcessInfo["callStack"][this.gProcessInfo["stackIndex"]]["name"]].doFilterHTMLAttributeAndValue(Q,R[N])){this.gProcessInfo["callStack"][this.gProcessInfo["stackIndex"]]["parameters"].add(R[N]["name"],R[N]["value"]);}}if(!this.gComponents[this.gProcessInfo["callStack"][this.gProcessInfo["stackIndex"]]["name"]].mustNonAttributeParametersBePassedFirst(this.gProcessInfo["callStack"][this.gProcessInfo["stackIndex"]]["actualName"],this.gProcessInfo["callStack"][this.gProcessInfo["stackIndex"]]["externalType"])){this.filterHTMLElement__callOnStart(this.gProcessInfo["stackIndex"]);}this.gProcessInfo["inParameterButNotInComponent"]=false;this.gProcessInfo["callStack"][this.gProcessInfo["stackIndex"]]["body"]=this.processHTMLDomBranch(P,I);this.gProcessInfo["inParameterButNotInComponent"]=M;if(!this.gProcessInfo["callStack"][this.gProcessInfo["stackIndex"]]["wasOnStartCalled"]){this.filterHTMLElement__callOnStart(this.gProcessInfo["stackIndex"]);}if(this.gComponents[this.gProcessInfo["callStack"][this.gProcessInfo["stackIndex"]]["name"]].isToEnclose()){P["prependedTextToBody"]='<div class="'+this.cageHtmlAttribute(this.gProcessInfo["callStack"][this.gProcessInfo["stackIndex"]]["name"])+'">';}if(this.gProcessInfo["callStack"][this.gProcessInfo["stackIndex"]]["type"]===this.COMPONENT_TYPE_NORMAL){P["prependedTextToBody"]+=this.gComponents[this.gProcessInfo["callStack"][this.gProcessInfo["stackIndex"]]["name"]].getOutput(this.buildParametersObject(this.gProcessInfo["callStack"][this.gProcessInfo["stackIndex"]]["parameters"]),this.gProcessInfo["callStack"][this.gProcessInfo["stackIndex"]]["body"]);}else{if(this.gProcessInfo["callStack"][this.gProcessInfo["stackIndex"]]["type"]===this.COMPONENT_TYPE_DEFAULT){P["prependedTextToBody"]+=this.gComponents["<DEFAULT>"].getOutput({"componentName":this.gProcessInfo["callStack"][this.gProcessInfo["stackIndex"]]["actualName"],"componentParameters":this.buildParametersObject(this.gProcessInfo["callStack"][this.gProcessInfo["stackIndex"]]["parameters"]),"isNativeElement":false,"type":this.gProcessInfo["callStack"][this.gProcessInfo["stackIndex"]]["externalType"],"nonAttributeTopParameters":this.gProcessInfo["callStack"][this.gProcessInfo["stackIndex"]]["nonAttributeTopParameters"]},this.gProcessInfo["callStack"][this.gProcessInfo["stackIndex"]]["body"]);}else{if(this.gProcessInfo["callStack"][this.gProcessInfo["stackIndex"]]["type"]===this.COMPONENT_TYPE_BLOCK){P["prependedTextToBody"]+=this.gComponents["<BLOCK>"].getOutput({"elementName":this.gProcessInfo["callStack"][this.gProcessInfo["stackIndex"]]["actualName"],"elementAttributes":this.buildParametersObject(this.gProcessInfo["callStack"][this.gProcessInfo["stackIndex"]]["parameters"]),"isNativeElement":true,"type":this.gProcessInfo["callStack"][this.gProcessInfo["stackIndex"]]["externalType"]},this.gProcessInfo["callStack"][this.gProcessInfo["stackIndex"]]["body"]);}else{if(this.gProcessInfo["callStack"][this.gProcessInfo["stackIndex"]]["type"]===this.COMPONENT_TYPE_NONBLOCK){P["prependedTextToBody"]+=this.gComponents["<NONBLOCK>"].getOutput({"elementName":this.gProcessInfo["callStack"][this.gProcessInfo["stackIndex"]]["actualName"],"elementAttributes":this.buildParametersObject(this.gProcessInfo["callStack"][this.gProcessInfo["stackIndex"]]["parameters"]),"isNativeElement":true,"type":this.gProcessInfo["callStack"][this.gProcessInfo["stackIndex"]]["externalType"]},this.gProcessInfo["callStack"][this.gProcessInfo["stackIndex"]]["body"]);}}}}if(this.gComponents[this.gProcessInfo["callStack"][this.gProcessInfo["stackIndex"]]["name"]].isToEnclose()){P["prependedTextToBody"]+="</div>";}P["isToProcessBodyOnly"]=true;P["mayHasChildElements"]=false;P["mayHasTextContent"]=false;P["hasAttributes"]=false;if(O){this.gProcessInfo["refrences"][L]=P["prependedTextToBody"];}this.gComponents[this.gProcessInfo["callStack"][this.gProcessInfo["stackIndex"]]["name"]].onEnd();delete this.gProcessInfo["callStack"][this.gProcessInfo["stackIndex"]];this.gProcessInfo["stackIndex"]=this.gProcessInfo["stackIndex"]-1;return true;},filterHTMLElement__callOnStart:function(I){this.gComponents[this.gProcessInfo["callStack"][I]["name"]].onStart(this.gProcessInfo["callStack"][I]["actualName"],this.gProcessInfo["callStack"][I]["externalType"],this.buildParametersObject(this.gProcessInfo["callStack"][I]["parameters"]));this.gProcessInfo["callStack"][I]["wasOnStartCalled"]=true;},filterHTMLElement__processError:function(L,J,M,O,K){var N={p:null};var I=this.howToHandleError(O,M,N);switch(O){case this.ERROR_UNREGISTERED_COMPONENT:if(I===this.HANDLE_ERROR_BY_DEFAULT_BEHAVIOR){K.p=this.printError("Un registered crxComponent ".pComponentName);}else{if(I===this.HANDLE_ERROR_PROCESS_AS_NATIVE_ELEMENT_IF_POSSIBLE){}else{if(I===this.HANDLE_ERROR_PRINT_CUSTOM_MESSAGE){K.p=this.printError(N.p);}}}break;case this.ERROR_COMPONENT_IN_NONBLOCK:if(I===this.HANDLE_ERROR_BY_DEFAULT_BEHAVIOR){K.p=this.printError("Component, "+M+", may not have non block ancestors");}else{if(I===this.HANDLE_ERROR_PROCESS_AS_NATIVE_ELEMENT_IF_POSSIBLE){}else{if(I===this.HANDLE_ERROR_PRINT_CUSTOM_MESSAGE){K.p=this.printError(N.p);}}}break;case this.ERROR_INVALID_PARAMETER_APPEARANCE:if(I===this.HANDLE_ERROR_BY_DEFAULT_BEHAVIOR){K.p=this.printError("Invalid Parameter Insertion");}else{if(I===this.HANDLE_ERROR_PROCESS_AS_NATIVE_ELEMENT_IF_POSSIBLE){}else{if(I===this.HANDLE_ERROR_PRINT_CUSTOM_MESSAGE){K.p=this.printError(N.p);}}}break;case this.ERROR_INVALID_COMPONENT_INSERTION:if(I===this.HANDLE_ERROR_PRINT_CUSTOM_MESSAGE){K.p=this.printError(N.p);}else{K.p=this.printError("Invalid insertion of component ".vCrxType);}break;}if(K.p===null){this.filterHTMLElement__incrementElementStack(true,"<error>");return true;}return false;},checkIfElementIsNamedComponent:function(I,K){var J=-1;if(this.doesStringBeginsWith(I,"cre")){var L=I.substring(3);if(L&&this.gComponents.hasOwnProperty(L)){if(K!==undefined){K.p=L;}J=2;}else{if(this.gComponents["<DEFAULT>"]){if(K!==null){K.p=L;}J=3;}else{J=1;}}}return J;},checkIfElementIsNamedComponent2:function(J,K){var I=this.checkIfElementIsNamedComponent(J,K);return((I!==2)&&(I!==3));},buildParametersObject:function(I){var J={};this._buildParametersObject(J,I);return J;},_buildParametersObject:function(K,I){for(var J in I.p){if(!I.p.hasOwnProperty(J)){continue;}if(typeof I.p[J]==="object"){K[J]={};this._buildParametersObject(K[J],I.p[J]);}else{K[J]=I.p[J];}}}}},PROTECTED:{VIRTUAL:{FINAL:{FUNCTIONS:{onProcessHTMLStart:function(){this.gProcessInfoStack.push({"isExtendedHTMLCall":this.gIsExtendedHTMLCall,"callStack":[],"stackIndex":-1,"refrences":{},"inParameter":false,"inParameterButNotInComponent":false,"extraSecurityProtocol":null});this.getSecurityProtocol().popSecurityProtocol();if(this.gExtraSecurityProtocol===null){if(this.gProcessInfoStack.length>1){this.gProcessInfoStack[this.gProcessInfoStack.length-1]["extraSecurityProtocol"]=this.gProcessInfoStack[this.gProcessInfoStack.length-2]["extraSecurityProtocol"];}}else{this.gProcessInfoStack[this.gProcessInfoStack.length-1]["extraSecurityProtocol"]=this.gExtraSecurityProtocol;}if(this.gProcessInfoStack[this.gProcessInfoStack.length-1]["extraSecurityProtocol"]!==null){this.getSecurityProtocol().pushSecurityProtocol(this.gProcessInfoStack[this.gProcessInfoStack.length-1]["extraSecurityProtocol"]);}this.gProcessInfo=this.gProcessInfoStack[this.gProcessInfoStack.length-1];this.gIsExtendedHTMLCall=false;this.gExtraSecurityProtocol=null;this.doOnProcessHTMLStart(this.gIsExtendedHTMLCall);},onProcessHTMLEnd:function(){var I=this.gProcessInfoStack[this.gProcessInfoStack.length-1]["isExtendedHTMLCall"];this.gProcessInfoStack.pop();if(this.gProcessInfoStack.length>0){this.gProcessInfo=this.gProcessInfoStack[this.gProcessInfoStack.length-1];if(this.gProcessInfoStack[this.gProcessInfoStack.length-1]["extraSecurityProtocol"]!==null){this.getSecurityProtocol().pushSecurityProtocol(this.gProcessInfoStack[this.gProcessInfoStack.length-1]["extraSecurityProtocol"]);}}else{this.gProcessInfo=null;}this.doOnProcessHTMLEnd(I);},filterCSSRule:function(I){return this.SR(null,"filterCSSRule",I);},filterCSSSelector:function(I){return this.SR(null,"filterCSSSelector",I);},getComponentByTagName:function(I){if(this.gComponents.hasOwnProperty(I)){return this.gComponents[I];}return null;},registerDefaultComponent:function(J,I,M){var K=false;if(this.gComponents["<DEFAULT>"]){K=true;}else{if(I&&this.gComponents["<BLOCK>"]){K=true;}else{if(M&&this.gComponents["<NONBLOCK>"]){K=true;}}}if(!K){var L=crx_new(J,this.THIS);this.gComponents["<DEFAULT>"]=L;this.gIsDefaultComponentAvailable=true;if(I){this.gComponents["<BLOCK>"]=L;this.gIsBlockComponentMode=true;}if(M){this.gComponents["<NONBLOCK>"]=L;this.gIsNonBlockComponentAvailable=true;}}return !K;},registerBlockComponent:function(I,L){var J=false;if(this.gComponents["<BLOCK>"]){J=true;}else{if(L&&this.gComponents["<NONBLOCK>"]){J=true;}}if(!J){var K=crx_new(I,this.THIS);this.gComponents["<BLOCK>"]=K;this.gIsBlockComponentMode=true;if(L){this.gComponents["<NONBLOCK>"]=K;this.gIsNonBlockComponentAvailable=true;}}return !J;},registerNonBlockComponent:function(I){if(!this.gComponents["<NONBLOCK>"]){this.gComponents["<NONBLOCK>"]=crx_new(I,this.THIS);this.gIsNonBlockComponentAvailable=true;return true;}return false;},filterHTMLElement:function(R,K){if(!this.gProcessInfo["isExtendedHTMLCall"]){return this.SR(null,"filterHTMLElement",R,K);}else{if((R["name"]!=="crxparameter")&&!this.gProcessInfo["inParameterButNotInComponent"]&&(this.gProcessInfo["stackIndex"]>-1)&&!this.gComponents[this.gProcessInfo["callStack"][this.gProcessInfo["stackIndex"]]["name"]].doFilterHTMLElement(R,K,this.gProcessInfo["callStack"][this.gProcessInfo["stackIndex"]]["actualName"],this.gProcessInfo["callStack"][this.gProcessInfo["stackIndex"]]["parameters"])){return false;}}var X=false;var S={p:null};var V={p:""};var W=this.checkIfElementIsNamedComponent(R["name"],V);var N=null;var L=false;var I=((this.gElementsStack.length>0)?this.gElementsStack[this.gElementsStack.length-1]:["<ROOT>",true]);if(W>0){if(!this.gIsBlockComponentMode||(I[1]&&!this.gBlockElementsNotParentsToComponents[I[0]])){if(W===2){if(!this.gComponents[V.p].isInsertionValid(K)){X=this.filterHTMLElement__processError(R,K,V.p,this.ERROR_INVALID_COMPONENT_INSERTION,S);}else{N=this.getAttributesForFiltering("crxcomponent",K);this.filterHTMLElement__incrementElementStack(true,"crxcomponent");this.filterHTMLElement__processComponent(R,K,V.p,N,this.COMPONENT_TYPE_NORMAL);X=true;R["name"]="crxcomponent";}}else{if(W===3){if(!this.gComponents["<DEFAULT>"].isInsertionValid(K)){X=this.filterHTMLElement__processError(R,K,"<DEFAULT>"+V.p+"</DEFAULT>",this.ERROR_INVALID_COMPONENT_INSERTION,S);}else{N=this.getAttributesForFiltering("crxcomponent",K);this.filterHTMLElement__incrementElementStack(true,"crxcomponent");this.filterHTMLElement__processComponent(R,K,V.p,N,this.COMPONENT_TYPE_DEFAULT);X=true;R["name"]="crxcomponent";}}else{X=this.filterHTMLElement__processError(R,K,V.p,this.ERROR_UNREGISTERED_COMPONENT,S);}}}else{X=this.filterHTMLElement__processError(R,K,V.p,this.ERROR_COMPONENT_IN_NONBLOCK,S);}}else{switch(R["name"]){case"crxcomponent":if(!this.gIsBlockComponentMode||(I[1]&&!this.gBlockElementsNotParentsToComponents[I[0]])){var J=null;N=this.getAttributesForFiltering("crxcomponent",K);J=(N["crxtype"]?N["crxtype"]["value"].toLowerCase():null);if(J&&this.gComponents.hasOwnProperty(J)){if(!this.gComponents[J].isInsertionValid(K)){X=this.filterHTMLElement__processError(R,K,J.p,this.ERROR_INVALID_COMPONENT_INSERTION,S);}else{this.filterHTMLElement__incrementElementStack(true,R["name"]);this.filterHTMLElement__processComponent(R,K,J,N,this.COMPONENT_TYPE_NORMAL);X=true;}}else{if(this.gComponents["<DEFAULT>"]){if(!this.gComponents["<DEFAULT>"].isInsertionValid(K)){X=this.filterHTMLElement__processError(R,K,"<DEFAULT>"+J.p+"</DEFAULT>",this.ERROR_INVALID_COMPONENT_INSERTION,S);}else{this.filterHTMLElement__incrementElementStack(true,R["name"]);this.filterHTMLElement__processComponent(R,K,J,N,this.COMPONENT_TYPE_DEFAULT);X=true;}}else{X=this.filterHTMLElement__processError(R,K,J.p,this.ERROR_UNREGISTERED_COMPONENT,S);}}}else{X=this.filterHTMLElement__processError(R,K,J.p,this.ERROR_COMPONENT_IN_NONBLOCK,S);}break;case"crxparameter":if((this.gProcessInfo["stackIndex"]===-1)||!((R["nameOfParent"]==="crxparameter")||(R["nameOfParent"]!=="crxcomponent")||!this.checkIfElementIsNamedComponent2(R["nameOfParent"]))||this.gProcessInfo["callStack"][this.gProcessInfo["stackIndex"]]["areParametersNoLongerAllowed"]){X=this.filterHTMLElement__processError(R,K,null,this.ERROR_INVALID_PARAMETER_APPEARANCE,S);}else{var U=this.gProcessInfo["callStack"][this.gProcessInfo["stackIndex"]]["parameters"];var Q=null;var P=null;var T=this.gProcessInfo["inParameter"];var M=this.gProcessInfo["inParameterButNotInComponent"];N=this.getAttributes(K);this.filterHTMLElement__incrementElementStack(true,R["name"]);if(R["nameOfParent"]==="crxparameter"){for(var O=0;O<this.gProcessInfo["callStack"][this.gProcessInfo["stackIndex"]]["keysOfLastAddedParameter"].length;O++){if(O===(this.gProcessInfo["callStack"][this.gProcessInfo["stackIndex"]]["keysOfLastAddedParameter"].length-1)){if(!(U.p[this.gProcessInfo["callStack"][this.gProcessInfo["stackIndex"]]["keysOfLastAddedParameter"][O]] instanceof Object)){U.p[this.gProcessInfo["callStack"][this.gProcessInfo["stackIndex"]]["keysOfLastAddedParameter"][O]]=w();}}U=U.p[this.gProcessInfo["callStack"][this.gProcessInfo["stackIndex"]]["keysOfLastAddedParameter"][O]];}if(N["name"]&&!this.isStringEmpty(N["name"])){Q=N["name"].toLowerCase();U.add(Q,null);}else{U.add(null);Q=U.lastAddedKey;}}else{if(N["name"]&&!this.isStringEmpty(N["name"])){Q=N["name"].toLowerCase();U.add(Q,null);}else{U.add(null);Q=U.lastAddedKey;}this.gProcessInfo["callStack"][this.gProcessInfo["stackIndex"]]["nonAttributeTopParameters"][Q]=true;}this.gProcessInfo["callStack"][this.gProcessInfo["stackIndex"]]["keysOfLastAddedParameter"].push(Q);if(N["value"]){U.p[Q]=N["value"];N=null;}else{N=null;this.gProcessInfo["inParameter"]=true;this.gProcessInfo["inParameterButNotInComponent"]=true;P=this.processHTMLDomBranch(R,K);this.gProcessInfo["inParameterButNotInComponent"]=M;this.gProcessInfo["inParameter"]=T;if(U.p[Q]===null){U.p[Q]=P;}}this.gProcessInfo["callStack"][this.gProcessInfo["stackIndex"]]["keysOfLastAddedParameter"].pop();this.onElementClose(R);X=false;}break;case"crxreferto":tReferenceID=K.getAttribute("crxreference");tReferenceIDLength=tReferenceID.length;tDoesReferenceExists=((tReferenceIDLength>0)&&this.gProcessInfo["refrences"].hasOwnProperty(tReferenceID));tActions=K.getAttribute("action").split(",");for(var O=0;O<tActions.length;O++){tActions[O]=this.trim(tActions[O]);switch(tActions[O]){case"erase":if(tDoesReferenceExists){delete this.gProcessInfo["refrences"][tReferenceID];tDoesReferenceExists=false;}break;case"eraseAll":this.gProcessInfo["refrences"]={};tDoesReferenceExists=false;break;case"eraseSubSet":for(var Q in this.gProcessInfo["refrences"]){if(!this.gProcessInfo["refrences"].hasOwnProperty(Q)){continue;}if(this.gProcessInfo["refrences"][Q].substring(0,tReferenceIDLength)===tReferenceID){delete this.gProcessInfo["refrences"][Q];}}break;case"eraseAllOthers":if(tDoesReferenceExists){for(var Q in this.gProcessInfo["refrences"]){if(!this.gProcessInfo["refrences"].hasOwnProperty(Q)){continue;}if(Q!==tReferenceID){delete this.gProcessInfo["refrences"][Q];}}}else{this.gProcessInfo["refrences"]={};}break;case"copy":default:if(tDoesReferenceExists){R["prependedTextToBody"]=this.gProcessInfo["refrences"][tReferenceID];R["isToProcessBodyOnly"]=true;R["mayHasChildElements"]=false;R["mayHasTextContent"]=false;R["hasAttributes"]=false;}break;}}X=true;break;default:X=null;L=true;if((this.gProcessInfo["stackIndex"]>-1)&&!this.gProcessInfo["callStack"][this.gProcessInfo["stackIndex"]]["wasOnStartCalled"]){this.filterHTMLElement__callOnStart(this.gProcessInfo["stackIndex"]);this.gProcessInfo["callStack"][this.gProcessInfo["stackIndex"]]["areParametersNoLongerAllowed"]=true;}X=this.doFilterHTMLElement(R,K);L=true;if(X){this.filterHTMLElement__incrementElementStack(X,R["name"]);}if(X&&this.gIsBlockComponentMode){if(this.gElementsStack[this.gElementsStack.length-1][1]||this.gIsNonBlockComponentAvailable){N=this.getAttributesForFiltering(R["name"],K,true);for(Q in N){if(!N.hasOwnProperty(Q)){continue;}if(!this.doFilterHTMLAttributeAndValue(R["name"],N[Q])){delete N[Q];}}if(!this.gIsToCollapseNonBlocks||(this.gElementsStack.length===1)||((this.gElementsStack.length>1)&&this.gElementsStack[this.gElementsStack.length-2][1])){this.filterHTMLElement__processComponent(R,K,R["name"],N,(this.gElementsStack[this.gElementsStack.length-1][1]?this.COMPONENT_TYPE_BLOCK:this.COMPONENT_TYPE_NONBLOCK));}}}break;}}if(S.p){R["prependedTextToBody"]=S.p;R["isToProcessBodyOnly"]=true;R["mayHasChildElements"]=false;R["mayHasTextContent"]=false;R["hasAttributes"]=false;X=true;}return X;},onElementClose:function(I){if(!this.gProcessInfo["isExtendedHTMLCall"]){return this.SR(null,"onElementClose",I);}if(this.gIsBlockComponentMode){this.gElementsStack.pop();}},filterHTMLAttributeAndValue:function(I,J){if(!this.gProcessInfo["isExtendedHTMLCall"]){return this.SR(null,"filterHTMLAttributeAndValue",I,J);}if((I==="crxparameter")||(I==="crxcomponent")||this.doesStringBeginsWith(I,"cre")){return true;}else{return this.doFilterHTMLAttributeAndValue(I,J);}},sieveHTMLElementText:function(J,L,K){if(!this.gProcessInfo["isExtendedHTMLCall"]){return this.SR(null,"sieveHTMLElementText",J,L,K);}if(/^\s+$/.test(L)){return"";}if((this.gProcessInfo["stackIndex"]>-1)&&!this.gProcessInfo["callStack"][this.gProcessInfo["stackIndex"]]["wasOnStartCalled"]){this.filterHTMLElement__callOnStart(this.gProcessInfo["stackIndex"]);this.gProcessInfo["callStack"][this.gProcessInfo["stackIndex"]]["areParametersNoLongerAllowed"]=true;}if(this.gIsBlockComponentMode&&this.gIsNonBlockComponentAvailable&&(!this.gIsToCollapseNonBlocks||(this.gElementsStack.length===0)||this.gElementsStack[this.gElementsStack.length-1][1])){var I=null;this.gComponents["<NONBLOCK>"].onStart(null,this.COMPONENT_TYPE_NONBLOCK,null);I=this.gComponents["<NONBLOCK>"].getOutput({"elementName":null,"elementAttributes":null,"isNativeElement":true,"type":this.COMPONENT_TYPE_NONBLOCK},this.doSieveHTMLElementText(J,L,K));this.gComponents["<NONBLOCK>"].onEnd();return I;}else{return this.doSieveHTMLElementText(J,L,K);}}}},FUNCTIONS:{doOnProcessHTMLStart:function(I){},doOnProcessHTMLEnd:function(I){},doFilterHTMLElement:function(J,I){return this.SR(null,"filterHTMLElement",J,I);},doFilterHTMLAttributeAndValue:function(I,J){return this.SR(null,"filterHTMLAttributeAndValue",I,J);},doSieveHTMLElementText:function(I,K,J){return this.SR(null,"sieveHTMLElementText",I,K,J);},printError:function(I){return"<div>"+I+"</div>";},howToHandleError:function(K,J,I){return this.HANDLE_ERROR_BY_DEFAULT_BEHAVIOR;},setIsToCollapseNonBlocks:function(I){this.gIsToCollapseNonBlocks=I;}}}},PUBLIC:{CONSTRUCT:function(J){var I=-1;if((J===undefined)||(J===-1)){I=crx_new("crx.ComplexSecurityProtocol",crx_new("crx.SecurityDefaultProtocol"),true);}else{I=crx_new("crx.ComplexSecurityProtocol",J,true);}this.PARENT.CONSTRUCT(I);if(q){Object.defineProperty(this.THIS,"COMPONENT_TYPE_NORMAL",{value:1,writable:false});Object.defineProperty(this.THIS,"COMPONENT_TYPE_DEFAULT",{value:2,writable:false});Object.defineProperty(this.THIS,"COMPONENT_TYPE_BLOCK",{value:3,writable:false});Object.defineProperty(this.THIS,"COMPONENT_TYPE_NONBLOCK",{value:4,writable:false});Object.defineProperty(this.THIS,"ERROR_UNREGISTERED_COMPONENT",{value:1,writable:false});Object.defineProperty(this.THIS,"ERROR_COMPONENT_IN_NONBLOCK",{value:2,writable:false});Object.defineProperty(this.THIS,"ERROR_INVALID_COMPONENT_INSERTION",{value:3,writable:false});Object.defineProperty(this.THIS,"ERROR_INVALID_PARAMETER_APPEARANCE",{value:4,writable:false});Object.defineProperty(this.THIS,"HANDLE_ERROR_BY_DEFAULT_BEHAVIOR",{value:1,writable:false});Object.defineProperty(this.THIS,"HANDLE_ERROR_PROCESS_AS_NATIVE_ELEMENT_IF_POSSIBLE",{value:2,writable:false});Object.defineProperty(this.THIS,"HANDLE_ERROR_PRINT_CUSTOM_MESSAGE",{value:3,writable:false});}else{this.THIS["COMPONENT_TYPE_NORMAL"]=1;this.THIS["COMPONENT_TYPE_DEFAULT"]=2;this.THIS["COMPONENT_TYPE_BLOCK"]=3;this.THIS["COMPONENT_TYPE_NONBLOCK"]=4;this.THIS["ERROR_UNREGISTERED_COMPONENT"]=1;this.THIS["ERROR_COMPONENT_IN_NONBLOCK"]=2;this.THIS["ERROR_INVALID_COMPONENT_INSERTION"]=3;this.THIS["ERROR_INVALID_PARAMETER_APPEARANCE"]=4;this.THIS["HANDLE_ERROR_BY_DEFAULT_BEHAVIOR"]=1;this.THIS["HANDLE_ERROR_PROCESS_AS_NATIVE_ELEMENT_IF_POSSIBLE"]=2;this.THIS["HANDLE_ERROR_PRINT_CUSTOM_MESSAGE"]=3;}this.gComponents={};this.gProcessInfoStack=[];this.gBlockElements=A;this.gBlockElementsNotParentsToComponents={"ul":true,"ol":true};this.gElementsStack=[];},VIRTUAL:{FINAL:{FUNCTIONS:{processExtendedHTML:function(J,I){this.gIsExtendedHTMLCall=true;this.gExtraSecurityProtocol=((I===undefined)?null:I);return this.processHTML(J);},isInParameter:function(){return this.gProcessInfo["inParameter"];}}},FUNCTIONS:{registerComponent:function(K){var J=crx_new(K,this.THIS);var I=J.getTagName().toLowerCase();if(!this.gComponents.hasOwnProperty(I)){this.gComponents[I]=J;}},generateInsecureRandomString:function(I){var L="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";var K="";for(var J=0;J<I;J++){K+=L.charAt(Math.floor(Math.random()*L.length));}return K;}}}}});crx_registerClass("crxcmp.TemplateSecurityProtocol",{EXTENDS:"crx.SecurityProtocol",PUBLIC:{VIRTUAL:{FUNCTIONS:{filterHTMLElement:function(K,J,I){if(J["name"]==="script"){return false;}if(J["name"]==="img"){J["mayHasChildElements"]=false;J["mayHasTextContent"]=false;}else{if(J["name"]==="style"){J["mayHasChildElements"]=false;}}return true;},filterHTMLAttributeAndValue:function(K,I,J){if(J["name"]!=="script"){if(this.isNotComplexMode()){J["value"]=K.cageHtmlAttribute(J["value"]);}return true;}else{return false;}},sieveHTMLElementText:function(L,I,K,J){if(K==='"'){return"";}if(J){return"";}else{if(this.isNotComplexMode()){return L.cageHtmlText(K);}else{return K;}}},filterCSSCharset:function(J,I){return true;},filterCSSImport:function(J,I){return true;},filterCSSRule:function(L,K){var I=K.name;if(L.doesStringBeginsWith(I,"-o-")){I=I.substring(3);}else{if(L.doesStringBeginsWith(I,"-ms-")){I=I.substring(4);}else{if(L.doesStringBeginsWith(I,"-moz-")){I=I.substring(5);}else{if(L.doesStringBeginsWith(I,"-webkit-")){I=I.substring(8);}}}}for(var J=0;J<K.crx_values.length;J++){switch(K.crx_values[J].tokenType){case"STRING":case"IDENT":case"DIMENSION":case"NUMBER":case"PERCENTAGE":K.crx_values[J].value=L.sanitizeCSSValue(L.decodeHtmlAndCSS(""+K.crx_values[J].value));break;case"FUNCTION":if(K.crx_values[J].name==="url"){if(K.crx_values[J].parameters.length>1){K.crx_values.splice(J,1);J--;}else{K.crx_values[J].parameters[0].value=L.sanitizeCSSValue(decodeHtmlAndCSS(K.crx_values[J].parameters[0].value));}}else{if(K.crx_values[J].name!="calc"){K.crx_values.splice(J,1);J--;}}break;}}return true;},filterCSSSelector:function(I){return true;}}}}});crx_registerClass("crxcmp.lhc.Component",{EXTENDS:"crxcmp.HTMLComponent",FRIENDS:["crxcmp.lhc.AbstractControllerComponent","crxcmp.lhc.Security"],PRIVATE:{VARS:{gElement:null,gIsPersistant:false,gParametersArray:null,gBodyParameter:null,gParentComponent:null,gChildComponents:null,gFollowedParent:null,gFollowerComponents:null,gFollowerComponentsNames:null,gFollowerComponentsGroupNames:null,gFollowerComponentsRootGroup:null,gID:null,gFunction_onReady:null,gFunction_onRender:null,gFunction_onPostRender:null,gWasReadyEverFired:false,gWasReadyFired:false,gWasReadyFiredForAllChildrenAndFollowers:false,gIsWaitingToRender:false,gIsWaitingToPostRender:false,gTemplateCodes:null,gCachedQueries:null},FUNCTIONS:{_addComponent:function(J,N,M){if(!this.gIsPersistant){return false;}var O=N.getID();var I=this.O(N);if(!this.gIsPersistant||!I.gIsPersistant||!N.isAValidChildTo(this.THIS)||!this.isAValidParentTo(N)||I.isAncestorOf(this.THIS)){return false;}else{if(this.gChildComponents===null){this.gChildComponents={"order":[],"instances":{},"instancesOrder":{}};}if(!this.gChildComponents.instances.hasOwnProperty(O)){var K=(((M===undefined)||(M===null)||(M<0)||(M>=this.gChildComponents.order.length))?this.gChildComponents.order.length:M);if(I.gParentComponent!==null){this.O(I.gParentComponent)._removeComponent(N);}I.gParentComponent=this.THIS;if(K===this.gChildComponents.order.length){this.gChildComponents.instances[O]=N;this.gChildComponents.instancesOrder[O]=K;this.gChildComponents.order.push(O);if(!J){this.attachElementFromComponent(N,K);}}else{for(var L in this.gChildComponents.instancesOrder){if(!this.gChildComponents.instances.hasOwnProperty(L)){continue;}if(this.gChildComponents.instancesOrder[L]>=K){this.gChildComponents.instancesOrder[L]=this.gChildComponents.instancesOrder[L]+1;}}this.gChildComponents.instances[O]=N;this.gChildComponents.instancesOrder[O]=K;this.gChildComponents.order.splice(K,0,O);if(!J){this.attachElementFromComponent(N,K);}}}else{this._removeComponent(N);this._addComponent(J,N,M);}if(!J){if(this.gIsWaitingToRender){I.triggerBranchWaitingToRender();}else{I.render();}}}this.gBodyParameter=null;this.gWasReadyFiredForAllChildrenAndFollowers=this.gWasReadyFiredForAllChildrenAndFollowers&&I.gWasReadyFired&&I.gWasReadyFiredForAllChildrenAndFollowers;return true;},_removeComponent:function(L){if(this.gChildComponents===null){return true;}var M=L.getID();var I=this.O(L);if(this.gChildComponents.instances.hasOwnProperty(M)){var J=this.gChildComponents.instancesOrder[M];delete this.gChildComponents.instances[M];delete this.gChildComponents.instancesOrder[M];for(var K in this.gChildComponents.instancesOrder){if(!this.gChildComponents.instancesOrder.hasOwnProperty(K)){continue;}if(this.gChildComponents.instancesOrder[K]>J){this.gChildComponents.instancesOrder[K]=this.gChildComponents.instancesOrder[K]-1;}}this.gChildComponents.order.splice(J,1);I.gParentComponent=null;this.detachElementFromComponent(L);}return true;},_build:function(){var M="";var J=this.getElement();var I=null;if(J){J=this.getBodyElement();if(J){I=J.contents();}}if(this.gChildComponents){for(var K=0;K<this.gChildComponents.order.length;K++){M+=this.O(this.gChildComponents.instances[this.gChildComponents.order[K]])._build();}}if(I&&(I.length>0)){var N=null;var L=this.getSecurity();for(var K=0;K<I.length;K++){switch(I[K].nodeType){case H:M+=I[K].nodeValue;break;case l:N=D(I.eq(K).attr("id"));if(N){if(N.getComponentOrderInParent()===-1){M+=this.O(this.gChildComponents.instances[this.gChildComponents.order[K]])._build();}}else{M+=C(L,I.eq(K));}break;}}}return this.onGetOutput(this.getID(),this.getParametersArray(),M);},_render:function(I,J){if(!this.gWasReadyFired){if(this.gIsPersistant&&!this.gIsWaitingToRender){this.triggerBranchWaitingToRender();}}else{if(!J||this.gIsWaitingToRender){B(this.getOnRender());}if(this.gChildComponents!==null){for(var K in this.gChildComponents.instances){if(!this.gChildComponents.instances.hasOwnProperty(K)){continue;}this.O(this.gChildComponents.instances[K])._render(I,J);}}if(this.gFollowerComponents!==null){for(var K in this.gFollowerComponents){if(!this.gFollowerComponents.hasOwnProperty(K)){continue;}this.O(this.gFollowerComponents[K][0])._render(I,J);}}if(I){B(this.getOnPostRender());}}},_postRender:function(){if(this.gWasReadyFired){if(this.gChildComponents!==null){for(var I in this.gChildComponents.instances){if(!this.gChildComponents.instances.hasOwnProperty(I)){continue;}this.O(this.gChildComponents.instances[I])._postRender();}}if(this.gFollowerComponents!==null){for(var I in this.gFollowerComponents){if(!this.gFollowerComponents.hasOwnProperty(I)){continue;}this.O(this.gFollowerComponents[I][0])._postRender();}}if(this.gIsWaitingToPostRender){B(this.getOnPostRender());}}},saveRawComponentData:function(I,J){if(this.gIsPersistant){this.gParametersArray=I||null;this.gBodyParameter=J||null;return true;}return false;},getOnReady:function(I){},getOnRender:function(I){if(this.gFunction_onRender===null){this.gFunction_onRender=(function(J){return function(K){if(!J.gIsPersistant){J.gID=I;J.gElement=K;J.onRender(K);J.gID=null;J.gElement=null;}else{J.onRender(J.getElement());J.gIsWaitingToRender=false;J.gIsWaitingToPostRender=true;}};})(this);}return this.gFunction_onRender;},getOnPostRender:function(I){if(this.gFunction_onPostRender===null){this.gFunction_onPostRender=(function(J){return function(K){if(!J.gIsPersistant){J.gID=I;J.gElement=K;J.onPostRender(K);J.gID=null;J.gElement=null;}else{J.onPostRender(J.getElement());J.gIsWaitingToPostRender=false;}};})(this);}return this.gFunction_onPostRender;},_deleteComponent:function(I,L){if(L){if(this.gChildComponents!==null){for(var J in this.gChildComponents.instances){if(!this.gChildComponents.instances.hasOwnProperty(J)){continue;}var K=this.gChildComponents.instances[J];this._removeComponent(K);L[J]=K;}}}if(I){this.deleteDom();}if(this.gFollowerComponents!==null){for(var J in this.gFollowerComponents){if(!this.gFollowerComponents.hasOwnProperty(J)){continue;}this.O(this.gFollowerComponents[J][0])._deleteComponent(false,null);}}if(!L){if(this.gChildComponents!==null){for(var J in this.gChildComponents.instances){if(!this.gChildComponents.instances.hasOwnProperty(J)){continue;}this.O(this.gChildComponents.instances[J])._deleteComponent(false,null);}}}if(window.crx_offRender&&window.$){window.crx_offRender(window.$,"#"+this.getID());}this.onDelete();delete y[this.gID];this.ANNUL();},resolveFollowerComponentName:function(M,K){if(M===1){var J=[];var I=null;if(K.length>0){J=(n(K[0])?K[0][0]:K[0].split("."));I=Array.prototype.slice.call(K,1).join(".");if(I!==""){I=I+".";}}else{I="";}I=I+(J.length>0?J.slice(0,J.length-1).join("."):"");return{"groupName":I,"name":((J.length>0)?J[J.length-1]:"")};}else{if(M===2){var L=n(K)?K:K.slice(".");return{"groupName":((L.length>1)?L.slice(1).join("."):""),"name":((L.length>0)?L[0]:"")};}}},resolveFollowerComponentsGroupName:function(K,J){if(K===1){var I=null;if(J.length>1){I=J.slice(1).join(".");if(I!==""){I=I+".";}}else{I="";}I=I+(J[0]?(n(J[0])?J[0].join("."):J[0]):"");if(I===""){I=".";}return I;}else{if(K===2){return(n(J)?J.join("."):J);}}},roughCopyFollowerComponentsGroupForUser:function(K,J,I){var M=I;M["name"]=J;M["subname"]=K.subName;M["components"]={};M["subGroups"]=null;for(var L in K.components){if(!K.components.hasOwnProperty(L)){continue;}M.components[L]=this.gFollowerComponents[K.components[L]][0];}if(K.subGroups){M.subGroups={};for(var L in K.subGroups){if(!K.subGroups.hasOwnProperty(L)){continue;}M.subGroups[L]={};this.roughCopyFollowerComponentsGroupForUser(K.subGroups[L],((M["name"]===".")?"":M["name"])+L,M.subGroups[L]);}}},emptyFollowerComponentsGroup:function(J,I,L){for(var K in J.components){if(!J.components.hasOwnProperty(K)){continue;}this.removeFollowerComponentByID(J.components[K]);}if(L&&J.subGroups){for(var K in J.subGroups){if(!J.subGroups.hasOwnProperty(K)){continue;}this.emptyFollowerComponentsGroup(J.subGroups[K],((I!==".")?I+".":"")+J.subGroups[K].subName,L);}J.subGroups=null;}if(!J.subGroups&&J.parentGroup){delete this.gFollowerComponentsGroupNames[I];delete J.parentGroup[J.subName];}},forceGetFollowerComponentsGroup:function(I){if(this.gFollowerComponentsGroupNames&&this.gFollowerComponentsGroupNames.hasOwnProperty(I)){return this.gFollowerComponentsGroupNames[I];}var M=null;var L="";var J=I.split(".");if(this.gFollowerComponentsGroupNames===null){this.gFollowerComponentsGroupNames={};}if(this.gFollowerComponentsRootGroup===null){this.gFollowerComponentsRootGroup={"subName":".","components":{},"subGroups":null,"parentGroup":null};this.gFollowerComponentsGroupNames["."]=this.gFollowerComponentsRootGroup;}M=this.gFollowerComponentsRootGroup;for(var K=0;K<J.length;K++){if(!M.subGroups){M.subGroups={};}L=L+((K===0)?"":".")+J[K];if(!M.subGroups.hasOwnProperty(J[K])){M.subGroups[J[K]]={"subName":J[K],"components":{},"subGroups":null,"parentGroup":M};this.gFollowerComponentsGroupNames[L]=M.subGroups[J[K]];}M=M.subGroups[J[K]];}return M;}}},PROTECTED:{VIRTUAL:{FINAL:{FUNCTIONS:{getParametersArray:function(){if(this.gParametersArray===null){this.gParametersArray=this.getEmptyParametersArray();}return this.gParametersArray;},getBodyParameter:function(){return(this.gBodyParameter||(this.gIsPersistant?"":null));},setParametersArray:function(I){this.gParametersArray=I;},attachElementFromComponent:function(L,K){var J=null;var I=this.getBodyElement();if(I){if(K===0){J=this.getChildComponentAt(K+1);if(J!==null){L.getElement().insertBefore(J.getElement());}}else{J=this.getChildComponentAt(K-1);if(J!==null){L.getElement().insertAfter(J.getElement());}}if(J===null){I.append(L.getElement());}}},detachElementFromComponent:function(J){var I=J.getElement();if(I){I.detach();}},initializeTemplateCodes:function(I){if((this.gTemplateCodes===null)||I){this.gTemplateCodes=crx_new("crxcmp.TemplateCodes");this.gTemplateCodes.setGetGeneratorFunction((function(){if(window.doT){return window.doT.template;}else{return function(J){return function(K){return J;};};}})());}},event_domErased:function(){this.gElement=null;this.gCachedQueries=null;this.gWasReadyFired=false;this.gWasReadyFiredForAllChildrenAndFollowers=false;this.onDomErased();if(this.gChildComponents!==null){for(var I in this.gChildComponents.instances){if(!this.gChildComponents.instances.hasOwnProperty(I)){continue;}this.O(this.gChildComponents.instances[I]).event_domErased();}}if(this.gFollowerComponents!==null){for(var I in this.gFollowerComponents){if(!this.gFollowerComponents.hasOwnProperty(I)){continue;}this.O(this.gFollowerComponents[I][0]).event_domErased();}}}}},FUNCTIONS:{onReady:function(){},onRender:function(I){},onPostRender:function(I){},getBodyElement:function(){return null;},onDomErased:function(){},onDelete:function(){}}}},PUBLIC:{CONSTRUCT:function(K,J,I){this.PARENT.CONSTRUCT(K);if(crxOop.instanceOf(K,"crxcmp.lhc.Security")){this.gIsPersistant=J;if(I&&(typeof I==="object")&&((typeof I.nodeName==="string")||(typeof I.selector==="string"))){this.gElement=I;this.gID=I.attr("id");if(!this.gID){this.gID=K.getInsecureUniqueElementID();I.attr("id",this.gID);}}else{if(!I){if(this.gIsPersistant){this.gID=K.getInsecureUniqueElementID();}}else{this.gID=I;}}if(this.gIsPersistant){y[this.gID]=this.THIS;}}},VIRTUAL:{FINAL:{FUNCTIONS:{shallowCopyObject:F,mergeToObject:m,isPersistant:function(){return this.gIsPersistant;},getID:function(){return this.gID;},getElement:function(){if(!this.gIsPersistant){return null;}if(this.gElement===null){this.gElement=$("#"+this.gID);if(this.gElement.length!==1||this.getSecurity().doesStringBeginsWith(this.gElement[0].nodeName.toLowerCase(),"cre")){this.gElement=null;}}return this.gElement;},getElementBit:function(I,J){if(!this.gIsPersistant){return null;}if(this.gElement===null){this.gElement=$("#"+this.gID);if(this.gElement.length!==1){this.gElement=null;}}if(this.gElement&&I){if(J){if(this.gCachedQueries===null){this.gCachedQueries={};}if(!this.gCachedQueries.hasOwnProperty(I)){this.gCachedQueries[I]=this.gElement.find(I);}return this.gCachedQueries[I];}else{return this.gElement.find(I);}}return null;},releaseCachedElementBits:function(J){this.gCachedQueries=null;if(J){if(this.gChildComponents!==null){for(var I in this.gChildComponents.instances){if(!this.gChildComponents.instances.hasOwnProperty(I)){continue;}this.gChildComponents.instances[I].releaseCachedElementBits(true);}}if(this.gFollowerComponents!==null){for(var I in this.gFollowerComponents){if(!this.gFollowerComponents.hasOwnProperty(I)){continue;}this.gFollowerComponents[I][0].releaseCachedElementBits(true);}}}},releaseCachedElementBit:function(I){if(this.gCachedQueries){delete this.gCachedQueries[I];}},getOutput:function(I,J){if(argument.length===0){if(this.gIsPersistant){return this.onGetOutput(null,this.getParametersArray(),this.gBodyParameter);}}else{return this.onGetOutput(null,I,J);}return"";},getParent:function(){return this.gParentComponent;},addComponent:function(J,I){return this._addComponent(false,J,I);},addComponentRaw:function(J,I){return this._addComponent(true,J,I);},removeComponent:function(I){return this._removeComponent(I);},addHTML:function(O,M){var I=this.getBodyElement();if(I&&I.length){var L={p:""};this.getSecurity().registerController("crxcmp_lhc","crxcmp.lhc.ControllerComponent");if((M===undefined)||M>=this.getNumberOfChildComponents()){this.getSecurity().processWithController("crxcmp_lhc",2,O,L,this.THIS);I.append(L.p);}else{var N=this.O(crx_new("crxcmp.lhc.components.NativeElement",this.getSecurity(),true,null));var K=M;this.getSecurity().processWithController("crxcmp_lhc",2,O,L,N.THIS);if(N.gChildComponents){for(var J in N.gChildComponents.instances){if(!N.gChildComponents.instances.hasOwnProperty(J)){continue;}this._addComponent(true,N.gChildComponents.instances[J],K);K=K+1;}}I.children().eq(M).after(L.p);N.deleteComponent();}}},getChildComponentOrder:function(J){var I=this.O(J);if((this.gChildComponents===null)||!this.gChildComponents.instances[I.getID()]){return -1;}else{return this.gChildComponents.instancesOrder[I.getID()];}},getComponentOrderInParent:function(){return(!this.gIsPersistant?-1:this.getParent().getChildComponentOrder(this.THIS));},getChildComponentAt:function(I){if((this.gChildComponents===null)||(I<0)||(I>=this.gChildComponents.order.length)){return null;}else{return(this.gChildComponents.instances[this.gChildComponents.order[I]]||null);}},hasChildComponents:function(){return(this.gChildComponents&&(this.gChildComponents.order.length>0));},getNumberOfChildComponents:function(){return((this.gChildComponents===null)?0:this.gChildComponents.order.length);},getChildComponents:function(){return((this.gChildComponents===null)?{}:F(this.gChildComponents.instances));},isAncestorOf:function(J,I){if(I){return(J&&((J.getID()===this.gID)||this.isAncestorOf(J.getParent()||J.getFollowedParent(),I)));}return(J&&((J.getID()===this.gID)||this.isAncestorOf(J.getParent(),I)));},isElementAncestorOf:function(K){var I=this.getElement();if(I){var J=K.getElement();if(J){return I.contains(J);}}return(this.isAncestorOf(K)||-1);},isBodyAncestorOf:function(K){var I=this.getBodyElement();if(I){var J=K.getElement();if(J){return I.contains(J);}}return(this.isAncestorOf(K)||-1);},scheduleRenderer:function(I){if(this.gParentComponent||this.gFollowedParent){return;}if(I===true){window.crx_onRender(window.jQuery,"#"+this.getID(),(function(J){return function(){J._render(false);};})(this),false,(function(J){return function(){J._postRender();};})(this),this.isToMonitorHeight());}else{setTimeout((function(J){return function(){if(!crxOop.isAnnul(J)){window.crx_onRender(window.jQuery,"#"+J.getID(),function(){J._render(false);},false,function(){J._postRender();},J.isToMonitorHeight());}};})(this),1);}},render:function(I){this._render(true,I);},triggerBranchWaitingToRender:function(){this.gIsWaitingToRender=true;if(this.gChildComponents!==null){for(var I in this.gChildComponents.instances){if(!this.gChildComponents.instances.hasOwnProperty(I)){continue;}this.gChildComponents.instances[I].triggerBranchWaitingToRender();}}if(this.gFollowerComponents!==null){for(var I in this.gFollowerComponents){if(!this.gFollowerComponents.hasOwnProperty(I)){continue;}this.gFollowerComponents[I][0].triggerBranchWaitingToRender();}}},build:function(N){if(!this.gIsPersistant){return false;}var I=this.getElement();var M=false;if(!I){var L=(crxOop.typeOf(N)==="$CRX_OBJECT");var P=(L?null:$(N));P=((P.length===1)?P:null);if(L){var K=false;if(!this.gParentComponent||this.gParentComponent.getID()!==N.getID()){K=N.addComponentRaw(this.THIS);}else{K=true;}if(K){var J=this.gParentComponent.getElement();if(J){var O=$("<div></div>");O.html(this._build());this.O(this.gParentComponent).attachElementFromComponent(this.THIS);if(window.crx_offRender&&window.$){window.crx_offRender(window.$,"#"+this.getID());}this.triggerOnReady();this.render();delete O;M=true;}}}else{if(P){if(this.gParentComponent){this.gParentComponent.removeComponent(this.THIS);}if(!this.gParentComponent){$(this._build()).appendTo(P);this.triggerOnReady();this.scheduleRenderer(true);this.render();M=true;}}}}return M;},reBuild:function(){var I=this.getElement();var J=false;if(I&&I.length===1){var K=$("<div></div>");I.after(K);K.html(this._build());I.remove();this.event_domErased();K.children().insertAfter(K);K.remove();this.triggerOnReady();J=true;}return J;},getHTML:function(I){if(I){var J=this.getBodyElement();if(J&&J.length){return J.html();}else{return"";}}else{return this._build();}},buildAndGetParametersFrom:function(I){var N=n(I);var M=(I&&(typeof I==="object"));var L=null;if(N){L={};for(var K=0;K<I.length;K++){L[""+K](buildAndGetParametersFrom(I[K]));}}else{if(M){L=I;for(var J in I){if(I.hasOwnProperty(J)){continue;}L[J]=buildAndGetParametersFrom(I[J]);}}else{L=I;}}return L;},setParameter:function(){if(arguments.length<2){return false;}var I=Array.prototype.slice.call(arguments);I.unshift(this.getParametersArray());return this.setParameterOnParametersArray.apply(this.THIS,I);},getParameter:function(){var J=Array.prototype.slice.call(arguments);for(var I=0;I<J.length;I++){J[I]=J[I].toLowerCase();}J.unshift(this.getParametersArray());return this.getParameterFromParametersArray.apply(this.THIS,J);},resetParameters:function(){this.gParametersArray=this.getEmptyParametersArray();},getParameterAsXmlTag:function(N,L,M){var K=((M!==undefined)&&(M>=0));var J=(K?this.getSecurity().getRepeatedString("\t",M):"")+"<crxParameter"+(/^[0-9]+$/.test(N)?"":" name='"+N+"'")+">";if(typeof L==="object"){for(var I in L){if(!L.hasOwnProperty(I)){continue;}if(K){J+="\n";}J+=this.getParameterAsXmlTag(I,L[I],(K?M+1:-1));}if(K){J+="\n"+this.getSecurity().getRepeatedString("\t",M);}}else{J+=L;}J+="</crxParameter>";return J;},getFollowedParent:function(){return this.gFollowedParent;},getNameInFollowedParent:function(){if(!this.gFollowedParent){return null;}var I=this.O(this.gFollowedParent);return I.gFollowerComponents[this.gID][1];},addFollowerComponent:function(L,J){if(!J||(arguments.length<2)||!(o(J)||n(J))){return false;}var I=this.O(L);var M=I.getID();if(I.gParentComponent===null){var K=this.resolveFollowerComponentName(1,Array.prototype.slice.call(arguments,1));var N=this.forceGetFollowerComponentsGroup(K.groupName);if(this.gFollowerComponents===null){this.gFollowerComponents={};}if(this.gFollowerComponentsNames===null){this.gFollowerComponentsNames={};}if(!N.components.hasOwnProperty(K.name)){if(I.gFollowedParent!==null){I.gFollowedParent.removeFollowerComponentByID(M);}I.gFollowedParent=this.THIS;N.components[K.name]=M;this.gFollowerComponents[M]=[L,(K.groupName?K.groupName+".":"")+K.name,N,K.groupName];this.gFollowerComponentsNames[(K.groupName?K.groupName+".":"")+K.name]=M;this.gWasReadyFiredForAllChildrenAndFollowers=this.gWasReadyFiredForAllChildrenAndFollowers&&I.gWasReadyFired&&I.gWasReadyFiredForAllChildrenAndFollowers;return true;}}return false;},getFollowerComponentName:function(I){if(this.gFollowerComponents.hasOwnProperty(I)){return this.gFollowerComponents[I][1];}else{return null;}},getFollowerComponent:function(I){if(this.gFollowerComponentsNames&&I){var J=null;if(arguments.length>1){J=Array.prototype.slice.call(arguments,1).join(".");if(J!==""){J=J+".";}}else{J="";}J=J+(n(I)?I.join("."):I);if(this.gFollowerComponentsNames.hasOwnProperty(J)){return this.gFollowerComponents[this.gFollowerComponentsNames[I]][0];}}return null;},getFollowerComponentsInGroup:function(I){var L=null;if(this.gFollowerComponentsGroupNames){var J=this.resolveFollowerComponentsGroupName(1,arguments);if(this.gFollowerComponentsGroupNames.hasOwnProperty(J)){L={};for(var K in this.gFollowerComponentsGroupNames[J].components){if(!this.gFollowerComponentsGroupNames[J].components.hasOwnProperty(K)){continue;}L[K]=this.gFollowerComponents[this.gFollowerComponentsGroupNames[J].components[K]][0];}}}return L;},getFollowerComponentsInGroupBranch:function(I){var K=null;if(this.gFollowerComponentsGroupNames){var J=this.resolveFollowerComponentsGroupName(1,arguments);if(this.gFollowerComponentsGroupNames.hasOwnProperty(J)){K={};this.roughCopyFollowerComponentsGroupForUser(this.gFollowerComponentsGroupNames[J],J,K);}}return K;},getFollowerComponentByID:function(I){if(this.gFollowerComponents&&this.gFollowerComponents.hasOwnProperty(I)){return this.gFollowerComponents[I][0];}},removeFollowerComponent:function(J){var I=null;if(this.gFollowerComponentsNames&&J){var K=null;if(arguments.length>1){K=Array.prototype.slice.call(arguments,1).join(".");if(K!==""){K=K+".";}}else{K="";}K=K+(n(J)?J.join("."):J);if(this.gFollowerComponentsNames.hasOwnProperty(K)){this.removeFollowerComponentByID(this.gFollowerComponentsNames[K]);}}},removeFollowerComponentsInGroup:function(I){if(this.gFollowerComponentsGroupNames){var J=this.resolveFollowerComponentsGroupName(1,arguments);if(this.gFollowerComponentsGroupNames.hasOwnProperty(J)){this.emptyFollowerComponentsGroup(this.gFollowerComponentsGroupNames[J],J,false);}}},removeFollowerComponentsInGroupBranch:function(I){if(this.gFollowerComponentsGroupNames){var J=this.resolveFollowerComponentsGroupName(1,arguments);if(this.gFollowerComponentsGroupNames.hasOwnProperty(J)){this.emptyFollowerComponentsGroup(this.gFollowerComponentsGroupNames[J],J,true);}}},removeFollowerComponentByID:function(I,J){var K=null;if(this.gFollowerComponents&&this.gFollowerComponents.hasOwnProperty(I)){K=this.gFollowerComponents[I][0];delete this.gFollowerComponentsNames[this.gFollowerComponents[I][1]];delete this.gFollowerComponents[I][2].components[this.gFollowerComponents[I][3]];if(!J){K.deleteComponent();K=null;}}return K;},moveFollowerComponentGroupContentTo:function(N,M,K){var P=this.resolveFollowerComponentsGroupName(1,N);var O=this.resolveFollowerComponentsGroupName(1,M);var J=true;if((P!==O)&&this.gFollowerComponentsGroupNames.hasOwnProperty(P)){var L=this.gFollowerComponentsGroupNames.hasOwnProperty(O);var I=this.gFollowerComponentsGroupNames[P];var S=(L?this.gFollowerComponentsGroupNames[O]:this.forceGetFollowerComponentsGroup(O));var R=((P===".")?"":P+".");var Q=((O===".")?"":O+".");if(L){J=this.moveFollowerComponentGroupContentTo_prepareTargetGroup(P,O);}if(J){this.moveFollowerComponentGroupContentTo_doTheMove(P,O);}}},moveFollowerComponentGroupContentTo_prepareTargetGroup:function(M,N,O){var L=this.gFollowerComponentsGroupNames[M];var I=this.gFollowerComponentsGroupNames[N];var J=true;for(var K in L.components){if(!L.components.hasOwnProperty(K)){continue;}if(I.components.hasOwnProperty(K)){if(O){this.removeFollowerComponentByID(I.components[K]);}else{J=false;break;}}}if(J){if(J&&L.subGroups&&I.subGroups){for(var K in L.subGroups){if(!L.subGroups.hasOwnProperty(K)){continue;}if(I.subGroups.hasOwnProperty(K)){if(!this.moveFollowerComponentGroupContentTo_prepareTargetGroup(((M!==".")?(M+"."+K):K),((M!==".")?(M+"."+K):K)),O){J=false;break;}}}}}return J;},moveFollowerComponentGroupContentTo_doTheMove:function(N,O){var M=this.gFollowerComponentsGroupNames[N];var J=null;var K=((N===".")?"":N+".");var I=((O===".")?"":O+".");J=this.forceGetFollowerComponentsGroup(O);for(var L in M.components){if(!M.components.hasOwnProperty(L)){continue;}J.components[L]=M.components[L];this.gFollowerComponents[M.components[L]][1]=I+L;this.gFollowerComponents[M.components[L]][2]=J;this.gFollowerComponents[M.components[L]][3]=O;delete M.components[K+L];}if(M.subGroups){for(L in M.subGroups){if(!M.subGroups.hasOwnProperty(L)){continue;}this.moveFollowerComponentGroupContentTo_doTheMove(K+L,I+L);}}delete M.parentGroup.subGroups[M.subName];delete this.gFollowerComponentsGroupNames[N];},pushTemplate:function(J,I){this.initializeTemplateCodes();this.gTemplateCodes.pushTemplateCode(J,I);},generateTemplatedOuput:function(L,M,J){var O=this.gTemplateCodes.getGenerators(J);var N=(L||null);if(N===null){N=F(this.getParametersArray());N["id"]=this.getID();N["body"]=this.getBodyParameter();}if(M){if(O.hasOwnProperty(M)){return O[M](N);}}else{var I=null;for(var K in O){if(!O.hasOwnProperty(K)){continue;}I=O[K];}if(I){return I(N);}else{return"";}}},onGetOutput_fromTamplate:function(R,I,K,L,P){if(!this.gTemplateCodes){throw"NO TEMPLATE DEFINED!. DEFINE TEMPLATE OR OVERRIDE onGetOutPut()";}var O=F(I);var Q=this.getSecurity();O["id"]=((R===null)?"":R);O["body"]=K;if(arguments.length>5){for(var N=5;N<arguments.length;N++){if((crxOop.typeOf(arguments[N])==="$CRX_NATIVE")||(crxOop.nativeTypeOf(arguments[N])!=="object")){continue;}this.mergeToObject(O,arguments[N]);}}if(this.gIsPersistant&&Q.registerController){var J={p:""};var M=[crx_new("crxcmp.TemplateSecurityProtocol")];Q.registerController("crxcmp_lhc_Component","crxcmp.lhc.ControllerComponent",M);Q.processWithController("crxcmp_lhc_Component",3,this.generateTemplatedOuput(O,L,P),J,this.THIS);return J.p;}else{if(Q.registerController){var J={p:""};Q.registerController("crxcmp_lhc_Component__","crxcmp.lhc.ControllerComponent",[crx_new("crxcmp.TemplateSecurityProtocol")]);Q.processWithController("crxcmp_lhc_Component__",0,this.generateTemplatedOuput(O,L,P),J);return J.p;}else{return this.generateTemplatedOuput(O,L,P);}}},wasReadyEverFired:function(){return this.gWasReadyEverFired;},wasReadyFired:function(){return this.gWasReadyFired;},wasReadyFiredForEntireBranch:function(){return this.gWasReadyFired&&this.gWasReadyFiredForAllChildrenAndFollowers;},triggerOnDomErased:function(){if(this.getElement()===null){this.event_domErased();}},deleteDom:function(){var I=this.getElement();if(I){I.remove();this.event_domErased();}},deleteComponent:function(I){if(I&&(Object.prototype.toString.call(I)==="[object Object]")){this._deleteComponent(true,I);}else{this._deleteComponent(true,null);}}}},FUNCTIONS:{isToMonitorHeight:function(){return false;},onGetOutput:function(J,I,K){return this.onGetOutput_fromTamplate(J,I,K);},isAValidChildTo:function(I){return true;},isAValidParentTo:function(I){return false;},isControllerValid:function(I){return true;},getCssClassName:function(){var I=this.getTagName();return"cre"+I.charAt(0).toUpperCase()+I.slice(1);},isParameterAnAttribute:function(I){return true;},getOpenTagAndExtraParameters:function(M,I,O,Q){var J=((Q!==undefined)&&(Q>=0));var R=(J?this.getSecurity().getRepeatedString("\t",Q):"")+"<"+"cre"+this.getTagName();var L=(I?I:this.getParametersArray());var K="";var P=true;if(M){R+=N+'="'+this.getSecurity().cageHtmlAttribute(this.gID)+'" ';P=false;}if(L){for(var N in L){if(!L.hasOwnProperty(N)||((N==="id")&&M)){continue;}if((typeof L[N]==="object")||/^[0-9]*$/.test(N)||!this.isParameterAnAttribute(N)){K+=this.getParameterAsXmlTag(N,L[N],(J?Q+1:-1));}else{R+=(P?" ":"")+N+'="'+this.getSecurity().cageHtmlAttribute(L[N])+'" ';P=false;}}}if((K!=="")&&J){K=K+"\n";}R+=">"+(J?"\n":"")+K;return R;},getCloseTag:function(I,K){var J=((K!==undefined)&&(K>=0));return(J?this.getSecurity().getRepeatedString("\t",K):"")+"</"+"cre"+this.getTagName()+">"+(J?"\n":"");},getRepresentativeOutPut:function(N,M,I,K){if(((I===undefined)||(I===null))&&!this.gIsPersistant){return"";}var O=(((M===undefined)||(M<0))?-1:(M+1));var L=this.getOpenTagAndExtraParameters(N,I,K,M);if(this.gChildComponents!==null){for(var J=0;J<this.gChildComponents.order.length;J++){L+=this.gChildComponents.instances[this.gChildComponents.order[J]].getRepresentativeOutPut(N,O);}}L+=this.getCloseTag(I,M);return L;},triggerOnReady:function(I){var L=true;if(this.isReady()){if(!this.gParentComponent||this.O(this.gParentComponent).gWasReadyFired){if(I||!this.gWasReadyFired){this.onReady();this.gWasReadyFired=true;this.gWasReadyEverFired=true;}if(this.gChildComponents!==null){for(var K=0;K<this.gChildComponents.order.length;K++){L=this.gChildComponents.instances[this.gChildComponents.order[K]].triggerOnReady(I)&&L;}}if(this.gFollowerComponents!==null){for(var J in this.gFollowerComponents){if(!this.gFollowerComponents.hasOwnProperty(J)){continue;}L=this.gFollowerComponents[J][0].triggerOnReady(I)&&L;}}}}this.gWasReadyFiredForAllChildrenAndFollowers=L;return this.gWasReadyFired&&this.vWasReadyFiredForAllChildrenAndFollowers;},isReady:function(){return true;},getEmptyParametersArray:function(){return{};},setParameterOnParametersArray:function(I){if(arguments.length<3){return false;}var M=null;var L=n(arguments[arguments.length-1]);var K=(arguments[arguments.length-1]&&(typeof arguments[arguments.length-1]==="object"));M=I;for(var J=1;J<arguments.length-2;J++){if(!M.hasOwnProperty(arguments[J])){M[arguments[J]]={};}M=M[arguments[J]];}M[arguments[arguments.length-2]]=this.buildAndGetParametersFrom(arguments[arguments.length-1]);return true;},getParameterFromParametersArray:function(I){if(arguments.length<2){return undefined;}var K=I;for(var J=1;J<arguments.length;J++){if((typeof K==="object")&&K.hasOwnProperty(arguments[J])){K=K[arguments[J]];}else{K=undefined;break;}}return K;},getComponentCategory:function(){return["DEFAULT"];}}}}});crx_registerClass("crxcmp.lhc.components.NativeElement",{VERBOSE:1,EXTENDS:"crxcmp.lhc.Component","PUBLIC CONSTRUCT":function(N,L,I){var J=null;this.PARENT.CONSTRUCT(N,L,I);if(I&&(typeof I==="object")&&((typeof I.nodeName==="string")||(typeof I.selector==="string"))){var M=I[0].attributes;for(var K=0;K<M.length;K++){if(M[K].name==="id"){continue;}this.setParameter(M[K].name,M[K].value);}this.getParametersArray()["elementName"]=I.prop("tagName");}},"PRIVATE VAR gIsBodyOnly":false,"PUBLIC VIRTUAL FINAL FUNCTION getTagName":function(){return"<NATIVE>";},"public virtual function isAValidChildTo":function(I){return true;},"PUBLIC VIRTUAL FINAL FUNCTION onGetOutput":function(K,I,O){var M=((I&&I.elementName)?I.elementName:"span");var J="<"+M+((K!==null)?(" id='"+K+"'"):" ");var N=(K===null);if(I&&I.elementName){for(var L in I.elementAttributes){if(!I.elementAttributes.hasOwnProperty(L)||(L==="id")){continue;}J+=(N?"":" ")+L+'="'+this.getSecurity().cageHtmlAttribute(I.elementAttributes[L])+'"';N=false;}}J+=">"+O+"</"+M+">";return J;},"PUBLIC VIRTUAL FINAL FUNCTION getOpenTagAndExtraParameters":function(O,I,R,S){var K=((S!==undefined)&&(S>=0));var N=(I?I:this.getParametersArray());var Q=((N&&N.elementName)?false:true);var M="";if(!Q){var J=(K?this.getSecurity().getRepeatedString("\t",S):"")+"<"+(I.nativeElement_missingComponent?"cre":"")+I.elementName;var L=true;if(O){vReturn+="id"+'="'+this.getSecurity().cageHtmlAttribute(this.getID())+'" ';L=false;}for(var P in N.elementAttributes){if(!N.elementAttributes.hasOwnProperty(P)||((P==="id")&&O)){continue;}if((typeof N.elementAttributes[P]==="object")||/^[0-9]+$/.test(P)||(I.nativeElement_nonAttributeTopParameters&&I.nativeElement_nonAttributeTopParameters.hasOwnProperty(P))){if(I.nativeElement_missingComponent){M+=this.getParameterAsXmlTag(P,N.elementAttributes[P],(K?S+1:-1));}}else{J+=(L?" ":"")+P+'="'+this.getSecurity().cageHtmlAttribute(N.elementAttributes[P])+'"';L=false;}}if((M!=="")&&K){M=M+"\n";}J+=">"+(K?"\n":"")+M;return J;}else{return(K?(this.getSecurity().getRepeatedString("\t",S)+this.getSecurity().trim(R||this.getBodyParameter())+"\n"):(R||this.getBodyParameter()));}},"PUBLIC VIRTUAL FINAL FUNCTION getCloseTag":function(I,J){if(I&&I.elementName){var K=((J!==undefined)&&(J>=0));return(K?this.getSecurity().getRepeatedString("\t",J):"")+"</"+(I.nativeElement_missingComponent?"cre":"")+I.elementName+">"+(K?"\n":"");}else{return"";}},"PROTECTED VIRTUAL FINAL FUNCTION getBodyElement":function(){return this.getElement();},"PUBLIC VIRTUAL FINAL FUNCTION isAValidParentTo":function(I){return !this.gIsBodyOnly;},"PUBLIC VIRTUAL FUNCTION getEmptyParametersArray":function(){var I={};I["elementName"]=null;I["elementAttributes"]={};I["isNativeElement"]=true;I["type"]=(this.gIsBodyOnly?this.TYPE_NONBLOCK:this.TYPE_BLOCK);return I;},"PUBLIC VIRTUAL FINAL FUNCTION setIsBodyOnly":function(I){this.gIsBodyOnly=I;this.getParametersArray()["type"]=(this.gIsBodyOnly?this.TYPE_NONBLOCK:this.TYPE_BLOCK);},"PUBLIC VIRTUAL FINAL FUNCTION setParameterOnParametersArray":function(I,J,K){if((arguments.length!==3)||this.gIsBodyOnly){return false;}I.elementAttributes[J]=K;return true;},"PUBLIC VIRTUAL FINAL FUNCTION getParameterFromParametersArray":function(I,J){if((arguments.length!==2)||this.gIsBodyOnly){return false;}return I.elementAttributes[J];},"PUBLIC VIRTUAL FINAL FUNCTION setAttribute":function(I,J){if(this.gIsBodyOnly){return false;}this.getParametersArray().elementAttributes[I]=J;return true;}});crx_registerClass("crxcmp.lhc.AbstractControllerComponent",{EXTENDS:"crxcmp.HTMLComponent",FRIENDS:["crxcmp.lhc.ControllerComponentAdapter"],PRIVATE:{VARS:{gComponentClasses:null,gRepresentativeComponentInstances:null,gRootComponent:null,gComponentsStack:null,gCurrentFollowerParent:null,gMode:0,gIsModeSet:false,gStack:null,gSecurityProtocol:null}},PROTECTED:{FUNCTIONS:{getComponentClasses:function(){return this.gComponentClasses;},getRootComponent:function(){return this.gRootComponent;},getComponentsStack:function(){return this.gComponentsStack;},doSetMode:function(I,J){var Q=true;if(this.gStack===null){this.gStack=[];}if((I===0)||!window.crx_onRender){var M={"mode":0};this.gStack.push(M);this.gMode=M.mode;}else{if(I===1){var M={"mode":1};this.gStack.push(M);this.gMode=M.mode;}else{if(I===2){var M=null;var K=(crxOop.typeOf(J)==="$CRX_OBJECT");var P=((J!==undefined)?(K?J.getElement():$(J)):null);var O=null;var N=null;if(K||((P!==null)&&(P.length===1))){if(!K){O=P.attr("id");if(!O){O=this.getSecurity().getInsecureUniqueElementID();P.attr("id",O);}N=this.createAndGetRootComponent(P);}else{O=J.getID();N=J;}M={"mode":2,"rootParent":N,"rootFollowedParent":null,"componentStack":[],"currentParent":N,"currentFollowerParent":null};this.gStack.push(M);this.gMode=M.mode;this.gRootComponent=M.rootParent;this.gComponentsStack=M.componentStack;this.gComponentsStack[0]=[this.gRootComponent.getID(),-2];this.gRootComponent.scheduleRenderer(false);}else{Q=false;}}else{if(I===3){var K=(crxOop.typeOf(J)==="$CRX_OBJECT");var L=null;if(K){L=J;}else{var P=((J!==undefined)?(K?J.getElement():$(J)):null);var O=(P?P.attr("id"):null);if(O){L=D(O);}}if(L){var M={"mode":3,"rootParent":null,"rootFollowedParent":L,"componentStack":[],"currentParent":null,"currentFollowerParent":L};if(!this.gRepresentativeComponentInstances["crxcmp.lhc.components.NativeElement"]){this.gRepresentativeComponentInstances["crxcmp.lhc.components.NativeElement"]=crx_new("crxcmp.lhc.components.NativeElement",this.getSecurity(),true,-1);}this.gStack.push(M);this.gMode=M.mode;this.gRootComponent=M.rootFollowedParent;this.gComponentsStack=M.componentStack;this.gComponentsStack[0]=[this.gRootComponent.getID(),-1];this.gCurrentFollowerParent=M.currentFollowerParent;}else{Q=false;}}else{Q=false;}}}}return Q;},doUnSetMode:function(){this.gStack.pop();if(this.gStack.length>0){var I=this.gStack[this.gStack.length-1];this.gMode=I.mode;if(I.mode===2){this.gRootComponent=I.rootParent;this.gComponentsStack=I.componentStack;this.gCurrentFollowerParent=null;}else{if(I.mode===3){this.gRootComponent=I.rootFollowedParent;this.gComponentsStack=I.componentStack;this.gCurrentFollowerParent=I.currentFollowerParent;}else{this.gRootComponent=null;this.gComponentsStack=[];this.gCurrentFollowerParent=null;}}}else{this.gMode=-1;this.gRootComponent=null;this.gComponentsStack=[];this.gCurrentFollowerParent=null;}return true;},doRegisterComponent:function(K){if(!crxOop.isClassChaining(K,"crxcmp.lhc.Component")){return;}var J=crx_new(K,this.getSecurity(),false);var I=J.getTagName().toLowerCase();if(!this.gComponentClasses.hasOwnProperty(I)){this.gComponentClasses[I]=K;}if((this.gMode===0)||(this.gMode===1)){this.gRepresentativeComponentInstances[I]=J;}},doOnStart:function(I,J,P){if(((this.gMode===2)||((this.gMode===3)&&this.gRootComponent))&&!this.getSecurity().isInParameter()){if(this.gComponentsStack[this.gComponentsStack.length-1][1]===-2){if(this.gComponentsStack[this.gComponentsStack.length-1][0]===null){this.gComponentsStack.push([null,-2]);}else{var O=null;var L=null;var Q=null;var M=null;if(J!==this.TYPE_NORMAL){O="crxcmp.lhc.components.NativeElement";Q=(P?P["id"]:null);}else{if(!this.gComponentClasses.hasOwnProperty(I)){O="crxcmp.lhc.components.NativeElement";Q=null;}else{O=this.gComponentClasses[I];Q=P["id"];}}if(Q){M=D(Q);}if(!M){if(!Q){Q=this.getSecurity().getInsecureUniqueElementID();}M=crx_new(O,this.getSecurity(),true,Q,this.THIS);if(y[this.gComponentsStack[this.gComponentsStack.length-1][0]].addComponentRaw(M)){this.gComponentsStack.push([Q,-2]);if(J===this.TYPE_NONBLOCK){M.setIsBodyOnly(true);}}else{this.gComponentsStack.push([null,-2]);}}else{this.gComponentsStack.push([Q,-4]);}}}else{if(this.gComponentsStack[this.gComponentsStack.length-1]&&(this.gComponentsStack[this.gComponentsStack.length-1][1]>=1)){this.gComponentsStack.push([this.gComponentsStack[this.gComponentsStack.length-1][0],2]);}else{if(((J===this.TYPE_NORMAL)&&this.gComponentClasses.hasOwnProperty(I))||((J===this.TYPE_BLOCK)&&P["crxfname"])){var Q=P["id"];var M=null;var N=(P["crxfname"]?P["crxfname"]:null);if(!Q){if(N){M=this.gCurrentFollowerParent.getFollowerComponent(N);}}else{M=this.gCurrentFollowerParent.getFollowerComponentByID(Q);if(!M){M=D(Q);}}if(!Q){if(M){Q=M.getID();}else{Q=this.getSecurity().getInsecureUniqueElementID();}}if(!M){if(J===this.TYPE_NORMAL){M=crx_new(this.gComponentClasses[I],this.getSecurity(),true,Q);}else{M=crx_new("crxcmp.lhc.components.NativeElement",this.getSecurity(),true,Q);}if(this.gCurrentFollowerParent.addFollowerComponent(M,N||("crxfname."+Q))){this.gComponentsStack.push([Q,-2]);}else{this.gComponentsStack.push([null,-1]);}}else{var K=M.getFollowedParent();if(!K){if(this.gCurrentFollowerParent.addFollowerComponent(M,N)){this.gComponentsStack.push([Q,1]);}else{this.gComponentsStack.push([Q,2]);}}else{if(K.getID()===this.gCurrentFollowerParent.getID()){this.gComponentsStack.push([Q,1]);}else{this.gComponentsStack.push([null,-1]);}}}}else{this.gComponentsStack.push([null,-1]);}}}}},doOnEnd:function(){if(!this.getSecurity().isInParameter()){if((this.gMode===2)||((this.gMode===3)&&this.gRootComponent)){if(this.gComponentsStack[this.gComponentsStack.length-1][1]===-2){this.gComponentsStack.pop();}else{if(this.gComponentsStack[this.gComponentsStack.length-1][0]===null){this.gComponentsStack.pop();}else{var I=this.gComponentsStack.length-2;this.gComponentsStack.pop();while(this.gComponentsStack[I][0]===null){I=I-1;}this.gCurrentFollowerParent=y[this.gComponentsStack[I][0]];}}}}}},VIRTUAL:{FINAL:{FUNCTIONS:{getComponentOnRender:function(J,I){return this.O(J,"crxcmp.lhc.Component").getOnRender(I);},getComponentOnPostRender:function(J,I){return this.O(J,"crxcmp.lhc.Component").getOnPostRender(I);},saveRawComponentData:function(J,I,K){return this.O(J,"crxcmp.lhc.Component").saveRawComponentData(I,K);}}},FUNCTIONS:{createAndGetRootComponent:function(I){return crx_new("crxcmp.lhc.components.NativeElement",this.getSecurity(),true,I);},onProcessStart:function(){},onProcessEnd:function(I){},setMode:function(J,I){return this.doSetMode(J,I);},unSetMode:function(){return this.doUnSetMode();}}}},PUBLIC:{CONSTRUCT:function(J,I){this.PARENT.CONSTRUCT(J);this.gComponentClasses={};this.gRepresentativeComponentInstances={};this.gComponentsStack=[];this.gSecurityProtocol=I;},VIRTUAL:{FINAL:{FUNCTIONS:{getMode:function(){return this.gMode;},getComponentInstance:function(I){if(y.hasOwnProperty(I)){return y[I];}return null;},getSecurityProtocol:function(){return this.gSecurityProtocol;}}},FUNCTIONS:{registerComponent:function(I){this.doRegisterComponent(I);},getNativeElementComponentClass:function(I){return"crxcmp.lhc.components.NativeElement";},getOutput:function(I,J){var S="";var N=null;var P=null;var L=this.getSecurity().isInParameter();if((this.gMode===0)||(this.gMode===1)||L){if(I.isNativeElement||this.gComponentClasses.hasOwnProperty(I.componentName)){var R=null;if(I.isNativeElement){R=this.getNativeElementComponentClass(null);P=((I.type===this.TYPE_NONBLOCK)?"<NONBLOCK>":"<BLOCK>");N=((I.elementAttributes===null)?null:I.elementAttributes["id"]);}else{R=this.gComponentClasses[I.componentName];P=I.componentName;N=I.componentParameters["id"];}if(!this.gRepresentativeComponentInstances[P]){this.gRepresentativeComponentInstances[P]=crx_new(R,this.getSecurity(),false);}if(!N&&(this.gMode===1)&&!I.isNativeElement&&!L){N=this.getSecurity().getInsecureUniqueElementID();}if(!N){N=null;}S=this.gRepresentativeComponentInstances[P].onGetOutput(N,(I.isNativeElement?I:I.componentParameters),J);if((this.gMode===1)&&!I.isNativeElement&&!L){if(window.$&&window.crx_onRender){setTimeout((function(V,U,T){return function(){window.crx_onRender(window.$,"#"+T,V.getComponentOnRender(U,T),true,V.getComponentOnPostRender(U,T),U.isToMonitorHeight());};})(this,this.gRepresentativeComponentInstances[P],N),1);}}}else{S=J;}}else{if(((this.gMode===2)&&(this.gComponentsStack[this.gComponentsStack.length-1][0]!==null))||((this.gMode===3)&&this.gRootComponent)){if(this.gComponentsStack[this.gComponentsStack.length-1][1]===-2){var M=null;var O=null;N=this.gComponentsStack[this.gComponentsStack.length-1][0];if(I.isNativeElement){M=I;}else{if(!this.getComponentClasses().hasOwnProperty(I.componentName)){M={"elementName":"div","elementAttributes":{},"isNativeElement":true,"type":this.TYPE_BLOCK};}}O=this.O(y[N],"crxcmp.lhc.Component");O.saveRawComponentData((I.isNativeElement?I:I.componentParameters),(I.isNativeElement&&(I.elementName===null))?J:null);S=O.onGetOutput(N,(I.isNativeElement?I:I.componentParameters),J);}else{if(this.gComponentsStack[this.gComponentsStack.length-1][1]===-4){S="";}else{var O=null;var Q=this.gComponentsStack[this.gComponentsStack.length-1];N=(Q[0]?Q[0]:null);if((Q[0]===null)||(Q[1]===0)){if(N===null){O=this.gRepresentativeComponentInstances["crxcmp.lhc.components.NativeElement"];if(I.type===this.TYPE_NONBLOCK){O.setIsBodyOnly(true);}else{O.setIsBodyOnly(false);}N=(I.isNativeElement?(I.elementAttributes?I.elementAttributes["id"]:null):I.componentParameters["id"]);O=this.O(this.gRepresentativeComponentInstances["crxcmp.lhc.components.NativeElement"],"crxcmp.lhc.Component");}else{O=this.O(y[N],"crxcmp.lhc.Component");}if(!N){N=null;}O.saveRawComponentData((I.isNativeElement?I:I.componentParameters),(I.isNativeElement&&(I.elementName===null))?J:null);S=O.onGetOutput(N,(I.isNativeElement?I:I.componentParameters),J);}else{if(Q[1]===1){var K=null;O=y[N];K=O.getElement();S=O.getHTML();if(K){K.detach();delete K;}}else{if(Q[1]===2){return"";}}}}}}}return S;},onStart:function(K,J,I){this.doOnStart(K,J,I);},onEnd:function(){this.doOnEnd();},onLive:function(){if(this.gMode===2){setTimeout((function(I){return function(){I.triggerOnReady(false);I.render();};})(this.gRootComponent),1);}}}}}});crx_registerClass("crxcmp.lhc.ControllerComponent",{EXTENDS:"crxcmp.lhc.AbstractControllerComponent",PUBLIC:{CONSTRUCT:function(J,I){this.PARENT.CONSTRUCT(J,I);},VIRTUAL:{FUNCTIONS:{getTagName:function(){return"LHCController";}}}}});crx_registerClass("crxcmp.lhc.ControllerComponentAdapter",{EXTENDS:"crxcmp.HTMLComponent",FRIENDS:["crxcmp.lhc.Security"],PRIVATE:{VARS:{gControllerComponents:null,gCurrentControllerComponent:null,gCurrentControllerComponentName:null,gControllerComponentsSourceElementIDs:null,gControllerComponentsSecurityProtocols:null,gCommonComponents:null},VIRTUAL:{FUNCTIONS:{onProcessStart:function(){this.O(this.gCurrentControllerComponent,"crxcmp.lhc.AbstractControllerComponent").onProcessStart();},onProcessEnd:function(I){this.O(this.gCurrentControllerComponent,"crxcmp.lhc.AbstractControllerComponent").onProcessEnd(I);},setMode:function(J,I){return this.O(this.gCurrentControllerComponent,"crxcmp.lhc.AbstractControllerComponent").setMode(J,I);},unSetMode:function(){return this.O(this.gCurrentControllerComponent,"crxcmp.lhc.AbstractControllerComponent").unSetMode();}}}},PUBLIC:{CONSTRUCT:function(I){this.PARENT.CONSTRUCT(I);this.gControllerComponents={};this.gCommonComponents={};this.gControllerComponentsSourceElementIDs={};this.gControllerComponentsSecurityProtocols={};},VIRTUAL:{FINAL:{FUNCTIONS:{getTagName:function(){return"ControllerComponentAdapter";},getComponentInstance:function(I){return this.gCurrentControllerComponent.getComponentInstance(I);},getOutput:function(I,J){return this.gCurrentControllerComponent.getOutput(I,J);},isToEnclose:function(){return false;},onStart:function(K,J,I){this.gCurrentControllerComponent.onStart(K,J,I);},onEnd:function(){this.gCurrentControllerComponent.onEnd();},getMode:function(){return this.gCurrentControllerComponent.getMode();},getSecurityProtocol:function(){return this.gCurrentControllerComponent.getSecurityProtocol();},doFilterHTMLElement:function(K,J,I,L){return this.gCurrentControllerComponent.doFilterHTMLElement(K,J,I,L);},doFilterHTMLAttributeAndValue:function(I,J){return this.gCurrentControllerComponent.doFilterHTMLAttributeAndValue(I,J);},isInsertionValid:function(I){return true;},registerComponent:function(J,I){if(J===null){this.gCurrentControllerComponent.registerComponent(I);}else{if(this.gControllerComponents.hasOwnProperty(J)){this.gControllerComponents[J].registerComponent(I);}}},registerComponentToAllControllers:function(I){if(this.gCommonComponents.hasOwnProperty(I)){return;}this.gCommonComponents[I]=true;for(var J in this.gControllerComponents){if(!this.gControllerComponents.hasOwnProperty(J)){continue;}this.gControllerComponents[J].registerComponent(I);}},registerControllerComponent:function(I,M,J){if(this.gControllerComponents.hasOwnProperty(I)){return false;}var N=null;if(crxOop.isClassChaining(M,"crxcmp.lhc.AbstractControllerComponent")){if(n(J)){var K=J.slice();K.unshift(M,this.getSecurity().CAST("crxcmp.lhc.Security"));N=crx_new.apply(null,K);}else{N=crx_new(M,this.getSecurity().CAST("crxcmp.lhc.Security"));}}if(N){this.gControllerComponents[I]=N;for(var L in this.gCommonComponents){if(!this.gCommonComponents.hasOwnProperty(L)){continue;}N.registerComponent(L);}if(this.gCurrentControllerComponent===null){this.gCurrentControllerComponent=N;}return true;}else{return false;}},setCurrentControllerComponent:function(I){if(!this.gControllerComponents.hasOwnProperty(I)){return false;}this.gCurrentControllerComponent=this.gControllerComponents[I];this.gCurrentControllerComponentName=I;return true;},getCurrentControllerComponentName:function(I){return this.gCurrentControllerComponentName;},getControllerComponent:function(I){return(this.gControllerComponents[I]||null);},onLive:function(){this.gCurrentControllerComponent.onLive();}}}}}});crx_registerClass("crxcmp.lhc.Security",{EXTENDS:"crxcmp.Security",PRIVATE:{VARS:{gControllerComponentAdapter:null,gIDPrefix:null,gAreas:null,gComponentsCssClasses:null},FUNCTIONS:{_livenDom:function(Q,R,M,T,S){if(!this.gComponentsCssClasses){return;}var P=R.attr("class");var V=(P?P.split(/\s+/):[]);var O=R.children();var L=null;var K=null;var Z=false;var W=null;var X=null;var N=false;if(M&&(R[0].tagName.toLowerCase()==="crxparameter")){var U=R.attr("name");if(U){var J=R.attr("value");var I=M.getParametersArray();if(J){j["tName"]=J;}else{this._livenDom__processParameter(R[0],I,U);}}}for(var Y=0;Y<V.length;Y++){if(this.gComponentsCssClasses.hasOwnProperty(V[Y])){if(!D(W)){L=this.O(crx_new(this.gComponentsCssClasses[V[Y]],this.THIS,true,R),"crxcmp.lhc.Component");if(!M&&T&&!X){X=R.attr("vFid");}break;}}}if(!Q&&!L&&!T){L=this.O(crx_new("crxcmp.lhc.components.NativeElement",this.THIS,true,R),"crxcmp.lhc.Component");N=true;}if(L){if(W===null){W=L.getID();}if(M){M.addComponentRaw(L);}else{if(T){T.addFollowerComponent(L,X);}else{S.push(L.THIS);}}K=L.getBodyElement();if(K&&K.is(R)){Z=true;}L.saveRawComponentData(t(R[0],N),(K?L.getBodyElement().html():null));}if(!L&&T&&T.getBodyElement()&&T.getBodyElement().is(R)){Z=true;}for(var Y=0;Y<O.length;Y++){if(!A.hasOwnProperty(O[Y].tagName.toLowerCase())){continue;}if(Z){this._livenDom(Q,O.eq(Y),L||T,null,S);}else{if(L){this._livenDom(Q,O.eq(Y),null,L,S);}else{this._livenDom(Q,O.eq(Y),null,M||T,S);}}}},_livenDom__processParameter:function(L,I,K){var O=L.find("> crxparameter");if(O.length>0){var J=false;I[K]={};for(var N=0;N<O.length;N++){var M=O.eq(N).attr("name");if(M){this._livenDom__processParameter(O.eq(N),I[K],M);if(I[K][M]){J=true;}}}if(!J){delete I[K];}}else{I[K]=L.html();}}}},PROTECTED:{VIRTUAL:{FUNCTIONS:{doFilterHTMLAttributeAndValue:function(I,J){if(J["name"]==="crxfname"){return true;}else{return this.SR("crx.Security","filterHTMLAttributeAndValue",I,J);}}}}},PUBLIC:{CONSTRUCT:function(I){this.PARENT.CONSTRUCT(I);this.registerDefaultComponent("crxcmp.lhc.ControllerComponentAdapter",true,true);this.gControllerComponentAdapter=this.getComponentByTagName("<DEFAULT>");this.setIsToCollapseNonBlocks(true);this.gIDPrefix="LHC"+this.generateInsecureRandomString(4)+"_";this.gAreas={};},VIRTUAL:{FINAL:{FUNCTIONS:{getInsecureUniqueElementID:function(I){return(I||this.gIDPrefix)+this.getThenIncrementInstanceCounter();},getThenIncrementInstanceCounter:function(){var I=s;s++;return I;},getComponentInstance:D,setIDPrefix:function(I){if(typeof(I)==="string"){this.gIDPrefix=I;}}}},FUNCTIONS:{resgisterSeenLHCComponent:function(J){if(!crxOop.isClassChaining(J,"crxcmp.lhc.Component")){return;}var I=crx_new(J,this.THIS,false);var K=I.getCssClassName();if(!this.gComponentsCssClasses){this.gComponentsCssClasses={};}if(K){this.gComponentsCssClasses[K]=J;}I.deleteComponent();I=null;},registerLHCComponent:function(J,I){this.resgisterSeenLHCComponent(I);this.gControllerComponentAdapter.registerComponent(J,I);},registerLHCComponentToAllAreas:function(I){this.resgisterSeenLHCComponent(I);this.gControllerComponentAdapter.registerComponentToAllControllers(I);},getControllerComponent:function(I){return this.gControllerComponentAdapter.getControllerComponent(I);},registerArea:function(M,K,J){if(K===3){return false;}var I=$(J);if(I.length>0){var L=I.attr("id");if(!L){L="CrxLHCArea_"+this.generateInsecureRandomString(8);I.attr("id",L);}this.gAreas[M]={"mode":K,"elementID":L};}return false;},processArea:function(P,N,O){if(!this.gAreas.hasOwnProperty(P)||($("#"+this.gAreas[P].elementID).length===0)||(this.gAreas[P].mode===3)){return false;}var J=this.gControllerComponentAdapter.getCurrentControllerComponentName();var K=this.O(this.gControllerComponentAdapter,"crxcmp.lhc.ControllerComponentAdapter");var I=$("#"+this.gAreas[P].elementID);var L={p:null};var M=false;if(K.setCurrentControllerComponent(N)&&K.setMode(this.gAreas[P].mode,I)){K.onProcessStart();L.p=this.processExtendedHTML((O!==undefined)?O:I.html(),K.getSecurityProtocol());K.onProcessEnd(L);I.html(L.p);K.onLive();K.unSetMode();M=true;}K.setCurrentControllerComponent(J);return M;},registerController:function(K,J,I){return this.gControllerComponentAdapter.registerControllerComponent(K,J,I);},processWithController:function(M,O,P,L,N){var I=this.gControllerComponentAdapter.getCurrentControllerComponentName();var J=this.O(this.gControllerComponentAdapter,"crxcmp.lhc.ControllerComponentAdapter");var K=false;if(J.setCurrentControllerComponent(M)&&J.setMode(O,N)){J.onProcessStart();L.p=this.processExtendedHTML(P,J.getSecurityProtocol());J.onProcessEnd(L);J.unSetMode();K=true;}J.setCurrentControllerComponent(I);return K;},livenComponentsDom:function(I){var K=[];this._livenDom(true,I,null,null,K);for(var J=0;J<K.length;J++){K[J].triggerOnReady();}for(var J=0;J<K.length;J++){K[J].scheduleRenderer(false);}for(var J=0;J<K.length;J++){K[J].render();}},livenDom:function(I){var K=[];this._livenDom(false,I,null,null,K);for(var J=0;J<K.length;J++){K[J].triggerOnReady();}for(var J=0;J<K.length;J++){K[J].scheduleRenderer(false);}for(var J=0;J<K.length;J++){K[J].render();}}}}}});crx_registerStructure("crxcmp.lhc.TemplateOverride",{VERBOSE:1,"PUBLIC CONSTRUCT":function(I){this.gData=null;if(I){this.gData={"replace":(I.replace||null),"extend":(I.extend||null),"lead":(I.lead||null)};}else{this.gData={"replace":null,"extend":null,"lead":null};}},"SHARED PUBLIC FUNCTION initiateDatumWith":function(I,J){if(this.gData.replace===null){this.gData.replace={};}if(!this.gData.replace.hasOwnProperty(I)){this.gData.replace[I]=J;}},"SHARED PUBLIC FUNCTION replaceDatumWith":function(I,K,J){if(this.gData.replace===null){this.gData.replace={};}this.gData.replace[I]=K;if(!J){if(this.gData.extend&&this.gData.extend.hasOwnProperty(I)){delete this.gData.extend[I];}if(this.gData.lead&&this.gData.lead.hasOwnProperty(I)){delete this.gData.lead[I];}}},"SHARED PUBLIC FUNCTION extendDatumWith":function(I,K,J){if(J&&(this.gData.replace!==null)&&this.gData.replace.hasOwnProperty(I)){return;}if(this.gData.extend===null){this.gData.extend={};}if(!this.gData.extend.hasOwnProperty(I)){this.gData.extend[I]="";}if(J===true){this.gData.extend[I]=K+this.gData.extend[I];}else{this.gData.extend[I]=this.gData.extend[I]+K;}},"SHARED PUBLIC FUNCTION leadDatumWith":function(I,K,J){if(J&&(this.gData.replace!==null)&&this.gData.replace.hasOwnProperty(I)){return;}if(this.gData.lead===null){this.gData.lead={};}if(!this.gData.lead.hasOwnProperty(I)){this.gData.lead[I]="";}if(J===true){this.gData.lead[I]=this.gData.lead[I]+K;}else{this.gData.lead[I]=K+this.gData.lead[I];}},"SHARED PUBLIC FUNCTION clone":function(){var I={"replace":null,"extend":null,"lead":null};if(this.gData.replace){I.replace=F(this.gData.replace);}if(this.gData.extend){I.extend=F(this.gData.extend);}if(this.gData.lead){I.lead=F(this.gData.lead);}return crx_new("crxcmp.lhc.TemplateOverride",I);},"SHARED PUBLIC FUNCTION overrideWith":function(J,K){if((K!==true)&&J.gData.replace){if(!this.gData.replace){this.gData.replace={};}for(var I in J.gData.replace){if(!J.gData.replace.hasOwnProperty(I)){continue;}this.replaceDatumWith(I,J.gData.replace[I]);}}if(J.gData.extend){for(var I in J.gData.extend){if(!J.gData.extend.hasOwnProperty(I)){continue;}this.extendDatumWith(I,J.gData.extend[I],K);}}if(J.gData.lead){for(var I in J.gData.lead){if(!J.gData.lead.hasOwnProperty(I)){continue;}this.leadDatumWith(I,J.gData.lead[I],K);}}},"SHARED PUBLIC FUNCTION applyToAndGet":function(K,J){var I=null;if(this.gData.lead&&this.gData.lead.hasOwnProperty(J)){I=this.gData.lead[J];}else{I="";}if(this.gData.replace&&this.gData.replace.hasOwnProperty(J)){I+=this.gData.replace[J];}else{I+=K;}if(this.gData.extend&&this.gData.extend.hasOwnProperty(J)){I+=this.gData.extend[J];}return I;},"SHARED PUBLIC FUNCTION hasReplacementFor":function(I){return !((this.gData.replace===null)||!this.gData.replace.hasOwnProperty(I));}});crx_registerStructure("crxcmp.lhc.Template",{PUBLIC:{CONSTRUCT:function(K,J,I){this.gInherits=null;this.gCode="";this.gTemplateOverride=null;if(K){this.gInherits=K;}else{if(J){this.gCode=J;}}if(I){this.gTemplateOverride=I;}}},SHARED:{PUBLIC:{FUNCTIONS:{clone:function(){return crx_new("crxcmp.lhc.Template",this.gInherits,((this.gInherits===null)?this.gCode:""),((this.gTemplateOverride!==null)?this.gTemplateOverride.clone():null));},overrideWith:function(I,J){if(this.gTemplateOverride===null){if(I.gTemplateOverride){this.gTemplateOverride=I.gTemplateOverride.clone();}else{this.gTemplateOverride=I.clone();}}else{if(I.gTemplateOverride){this.gTemplateOverride.overrideWith(I.gTemplateOverride,J);}else{this.gTemplateOverride.overrideWith(I,J);}}},initiateDatumWith:function(I,J){if(this.gTemplateOverride===null){this.gTemplateOverride=crx_new("crxcmp.lhc.TemplateOverride");}this.gTemplateOverride.initiateDatumWith(I,J);},replaceDatumWith:function(I,K,J){if(this.gTemplateOverride===null){this.gTemplateOverride=crx_new("crxcmp.lhc.TemplateOverride");}this.gTemplateOverride.replaceDatumWith(I,K,J);},extendDatumWith:function(I,K,J){if(this.gTemplateOverride===null){this.gTemplateOverride=crx_new("crxcmp.lhc.TemplateOverride");}this.gTemplateOverride.extendDatumWith(I,K,J);},leadDatumWith:function(I,K,J){if(this.gTemplateOverride===null){this.gTemplateOverride=crx_new("crxcmp.lhc.TemplateOverride");}this.gTemplateOverride.leadDatumWith(I,K,J);},hasReplacementFor:function(I){return !((this.gTemplateOverride===null)||!this.gTemplateOverride.hasReplacementFor(I));}}}}});crx_registerClass("crxcmp.lhc.TemplateCompiler",{EXTENDS:"crx.Security",PRIVATE:{VARS:{gIsTemplateHTMLCall:false,gIsTemplateCompilingCall:false,gProcessInfoStack:null,gProcessInfo:null,gProcessInfo_previous:null,gPassedInTemplateData:null}},PROTECTED:{VIRTUAL:{FINAL:{FUNCTIONS:{prepareCompilationData:function(M){var I={"templates":{},"overrides":{}};var L={};for(var K=0;K<M.length;K++){for(var J in M[K].overrides){if(!M[K].overrides.hasOwnProperty(J)){continue;}if(!I.overrides.hasOwnProperty(J)){I.overrides[J]=M[K].overrides[J].clone();}else{I.overrides[J].overrideWith(M[K].overrides[J]);}}for(var J in M[K].templates){if(!M[K].templates.hasOwnProperty(J)){continue;}if(!I.templates.hasOwnProperty(J)){I.templates[J]=M[K].templates[J].clone();}}}for(var J in I.overrides){if(!I.overrides.hasOwnProperty(J)){continue;}if(I.templates.hasOwnProperty(J)){I.templates[J].overrideWith(I.overrides[J]);}}for(var J in I.templates){if(!I.templates.hasOwnProperty(J)){continue;}if(this.resolveInheritingTemplate(I.templates,J)){L[J]=I.templates[J];}}return L;},resolveInheritingTemplate:function(K,J){if(K[J].gInherits===null){if(K[J].gCode===null){return false;}return true;}else{if(K.hasOwnProperty(K[J].gInherits)&&this.resolveInheritingTemplate(K,K[J].gInherits)){var I=K[J].gInherits;var L=(K[I].gTemplateOverride?K[I].gTemplateOverride.clone():crx_new("crxcmp.lhc.TemplateOverride"));L.overrideWith(K[J].gTemplateOverride);K[J].gInherits=null;K[J].gCode=K[I].gCode;K[J].gTemplateOverride=L;return true;}else{K[J].gInherits=null;K[J].gCode=null;return false;}}},onProcessHTMLStart:function(){if(this.gIsTemplateHTMLCall){this.gProcessInfoStack.push({"isTemplateHTMLCall":true,"isTemplateCompilingCall":false,"templates":((this.gPassedInTemplateData===null)?{}:this.gPassedInTemplateData.templates),"overrides":((this.gPassedInTemplateData===null)?{}:this.gPassedInTemplateData.overrides),"currentTemplate":"","currentTemplateName":"","templateDepth":0,"currentTemplateType":this.STATIC.TYPE_ERROR});}else{if(this.gIsTemplateCompilingCall){this.gProcessInfoStack.push({"isTemplateHTMLCall":false,"isTemplateCompilingCall":true,"template":this.gPassedInTemplateData});}else{this.gProcessInfoStack.push({"isTemplateHTMLCall":false,"isTemplateCompilingCall":false});}}this.gProcessInfo=this.gProcessInfoStack[this.gProcessInfoStack.length-1];this.gIsTemplateHTMLCall=false;this.gIsTemplateCompilingCall=false;this.gPassedInTemplateData=null;},onProcessHTMLEnd:function(){this.gProcessInfo_previous=this.gProcessInfoStack.pop();this.gProcessInfo=this.gProcessInfoStack[this.gProcessInfoStack.length-1];},filterHTMLElement:function(L,K){if(this.gProcessInfo.isTemplateHTMLCall){if(L.name==="crxtemplate"){var O=t(K,false);this.gProcessInfo.templateDepth++;if(O["overrides"]){var N=this.gProcessInfo.currentTemplate;var M=this.gProcessInfo.currentTemplateType;var J=this.gProcessInfo.currentTemplateName;var I=((this.gProcessInfo.templateDepth>1)?J+".":"")+O["overrides"];if(!this.gProcessInfo.overrides[I]){this.gProcessInfo.overrides[I]=crx_new("crxcmp.lhc.TemplateOverride");}this.gProcessInfo.currentTemplate=this.gProcessInfo.overrides[I];this.gProcessInfo.currentTemplateType=this.STATIC.TYPE_OVERRIDE;this.gProcessInfo.currentTemplateName=I;this.processHTMLDomBranch(L,K);this.gProcessInfo.currentTemplate=N;this.gProcessInfo.currentTemplateType=M;this.gProcessInfo.currentTemplateName=J;}else{if(O["name"]){var N=this.gProcessInfo.currentTemplate;var M=this.gProcessInfo.currentTemplateType;var J=this.gProcessInfo.currentTemplateName;var I=((this.gProcessInfo.templateDepth>1)?J+".":"")+O["name"];if(!this.gProcessInfo.templates[I]){this.gProcessInfo.templates[I]=crx_new("crxcmp.lhc.Template");}this.gProcessInfo.currentTemplate=this.gProcessInfo.templates[I];this.gProcessInfo.currentTemplateName=I;if(O["inherits"]){this.gProcessInfo.currentTemplateType=this.STATIC.TYPE_INHERIT;this.gProcessInfo.templates[I].gInherits=O["inherits"];this.processHTMLDomBranch(L,K);}else{this.gProcessInfo.currentTemplateType=this.STATIC.TYPE_TEMPLATE;this.gProcessInfo.templates[I].gCode=this.processHTMLDomBranch(L,K);}this.gProcessInfo.currentTemplate=N;this.gProcessInfo.currentTemplateType=M;this.gProcessInfo.currentTemplateName=J;}}this.gProcessInfo.templateDepth--;return false;}else{if((L.name==="crxtotemplatepart")&&(L["nameOfParent"]==="crxtemplate")){var O=t(K,false);if(O["name"]&&(this.gProcessInfo.templateDepth>=1)){if((this.gProcessInfo.currentTemplateType===this.STATIC.TYPE_OVERRIDE)||(this.gProcessInfo.currentTemplateType===this.STATIC.TYPE_INHERIT)){if(!O["action"]||(O["action"]==="replace")){this.gProcessInfo.currentTemplate.replaceDatumWith(O["name"],this.processHTMLDomBranch(L,K));}else{if(O["action"]==="extend"){this.gProcessInfo.currentTemplate.extendDatumWith([O["name"]],this.processHTMLDomBranch(L,K));}else{if(O["action"]==="lead"){this.gProcessInfo.currentTemplate.leadDatumWith([O["name"]],this.processHTMLDomBranch(L,K));}}}}}return false;}}return true;}else{if(this.gProcessInfo.isTemplateCompilingCall){if(L.name==="crxtemplatepart"){var O=t(K,false);if(O["name"]){if(this.gProcessInfo.template.hasReplacementFor(O["name"])){L["prependedTextToBody"]=this.gProcessInfo.template.gTemplateOverride.applyToAndGet("",O["name"]);}else{L["prependedTextToBody"]=(this.gProcessInfo.template.gTemplateOverride?this.gProcessInfo.template.gTemplateOverride.applyToAndGet(this.processHTMLDomBranch(L,K),O["name"]):this.processHTMLDomBranch(L,K));}}L["isToProcessBodyOnly"]=true;L["mayHasChildElements"]=false;L["mayHasTextContent"]=false;return true;}else{if(L.name==="crxtemplate"){return false;}else{return true;}}}else{return this.SR(null,"filterHTMLElement",L,K);}}},filterHTMLAttributeAndValue:function(I,J){if(!this.gProcessInfo.isTemplateHTMLCall&&!this.gProcessInfo.isTemplateCompilingCall){return this.SR(null,"filterHTMLAttributeAndValue",I,J);}return true;},filterCSSRule:function(I){if(!this.gProcessInfo.isTemplateHTMLCall&&!this.gProcessInfo.isTemplateCompilingCall){return this.SR(null,"filterCSSRule",I);}return true;},filterCSSSelector:function(I){if(!this.gProcessInfo.isTemplateHTMLCall&&!this.gProcessInfo.isTemplateCompilingCall){return this.SR(null,"filterCSSSelector",I);}return true;}}}}},PUBLIC:{CONSTRUCT:function(I){this.PARENT.CONSTRUCT(I);this.gProcessInfoStack=[];},CONSTS:{TYPE_ERROR:0,TYPE_TEMPLATE:1,TYPE_OVERRIDE:2,TYPE_INHERIT:3,OVERRIDE_ERROR:0,OVERRIDE_REPLACE:1,OVERRIDE_EXTEND:2,OVERRIDE_LEAD:3},VIRTUAL:{FINAL:{FUNCTIONS:{processTemplateCode:function(J,I){this.gIsTemplateHTMLCall=true;if(I){this.gPassedInTemplateData=I;}this.processHTML(J);return{"templates":this.gProcessInfo_previous.templates,"overrides":this.gProcessInfo_previous.overrides};},compileTemplates:function(L){var K={};var I=this.prepareCompilationData(L);for(var J in I){if(!I.hasOwnProperty(J)){continue;}this.gIsTemplateCompilingCall=true;this.gPassedInTemplateData=I[J];K[J]=this.processHTML(I[J].gCode);}return K;}}}}}});crx_registerClass("crxcmp.TemplateCodes",{PRIVATE:{VARS:{gNamedTemplateCodes:null,gTemplateCodesInfo:null,gTemplateCodeStack:null,gFunc_getGenerator:function(I){return function(J){return I;};}}},PUBLIC:{CONSTRUCT:function(I){if(I===true){this.gNamedTemplateCodes={};this.gTemplateCodesInfo={"subs":{},"generators":null,"getGenerator":null,"parent":null,"processingData":null};}else{this.gNamedTemplateCodes=c;this.gTemplateCodesInfo=i;}},FUNCTIONS:{setGetGeneratorFunction:function(I){if(this.gTemplateCodeStack===null){this.gFunc_getGenerator=I;return true;}return false;},pushTemplateCodeTo:function(J,I){},pushTemplateCode:function(L,I){if(this.gTemplateCodeStack===null){this.gTemplateCodeStack=[];}var K=null;var J=null;if(this.gTemplateCodeStack.length===0){K=this.gTemplateCodesInfo;}else{K=this.gTemplateCodeStack[this.gTemplateCodeStack.length-1];J=K;}if(!K.subs.hasOwnProperty(L)){if(I&&this.gNamedTemplateCodes.hasOwnProperty(I)){if((this.gNamedTemplateCodes[I].code!==L)||(this.gNamedTemplateCodes[I].getGenerator!==this.gFunc_getGenerator)||(this.gNamedTemplateCodes[I].parent!==J)){return false;}}else{K.subs[L]={"subs":{},"generators":null,"code":L,"getGenerator":this.gFunc_getGenerator,"parent":J,"processingData":null};if(I){this.gNamedTemplateCodes[I]=K.subs[L];}}}else{if(K.subs[L].getGenerator!==this.gFunc_getGenerator){return false;}}this.gTemplateCodeStack.push(K.subs[L]);},getGenerators:function(J){var N=null;if(J){if(this.gNamedTemplateCodes.hasOwnProperty(J)){N=this.gNamedTemplateCodes[J];}}else{if(this.gTemplateCodeStack&&(this.gTemplateCodeStack.length>0)){N=this.gTemplateCodeStack[this.gTemplateCodeStack.length-1];}}if(N!==null){if(N.generators===null){var I=N;var L={};var M=[];if(f===null){f=crx_new("crxcmp.lhc.TemplateCompiler");}while(I){if(I.processingData===null){I.processingData=f.processTemplateCode(I.code);}M.unshift(I.processingData);I=I.parent;}L=f.compileTemplates(M);N.generators={};for(var K in L){if(!L.hasOwnProperty(K)){continue;}N.generators[K]=N.getGenerator(L[K]);}}return N.generators;}}}}});var c={};var i={"subs":{},"generators":null,getGenerator:null,"name":null,"parent":null};var f=null;})();